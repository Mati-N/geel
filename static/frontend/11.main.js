(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{119:function(e,t,n){"use strict";n.r(t);var r=n(41),a=n.n(r),o=n(103),s=n.n(o),c=n(40),m=n.n(c),l=n(21),u=n.n(l),i=n(0),p=n.n(i),f=n(107),b=n(8),d=n(30),g=n(33),y=n(111);var O=function(e){e.error;var t=e.componentStack,n=e.resetErrorBoundary;return p.a.createElement("div",{role:"alert"},p.a.createElement("p",null,"Something went wrong:"),p.a.createElement("pre",null,t),p.a.createElement("button",{className:"btn-teal btn",onClick:n},"Try again"))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=Object(i.lazy)((function(){return n.e(0).then(n.bind(null,109))})),j=Object(i.lazy)((function(){return n.e(18).then(n.bind(null,127))}));t.default=function(e){var t=e.match.params.id,n=Object(b.useQuery)(d.e,{variables:{id:t}}),r=n.loading,o=n.data,c=(n.error,n.fetchMore),m=(n.refetch,Object(i.useState)(!0)),l=u()(m,2),h=l[0],w=l[1];if(r&&!o)return p.a.createElement(g.ImpulseSpinner,{size:40});var C=o.posts.edges[0].node;return p.a.createElement(y.ErrorBoundary,{FallbackComponent:O},p.a.createElement(p.a.Fragment,null,p.a.createElement(v,a()({key:C.id,likes:C.likers.length,comments:C.commentSet.length,user_id:C.user.id,username:C.user.username,show_comment:!0},C)),p.a.createElement(j,{comments:o.postComments.edges}),p.a.createElement(f.a,{onEnter:function(){c({query:d.e,variables:{cursor:o.postComments.pageInfo.endCursor,id:t},updateQuery:function(e,t){var n=t.fetchMoreResult;if(w(!0),!e.postComments.pageInfo.hasNextPage)return w(!1),e;var r=n.postComments.edges,a=n.postComments.pageInfo;return r.length?{post:E(E({},e.post),{},{postComments:{__typename:e.postComments.__typename,edges:[].concat(s()(e.postComments.edges),s()(r)),pageInfo:a}})}:e}}),w(!1)}},p.a.createElement("div",{className:"spinner"},(r||h)&&p.a.createElement(g.ImpulseSpinner,{size:40})))))}}}]);
//# sourceMappingURL=11.main.js.map