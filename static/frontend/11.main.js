(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{127:function(e,t,n){"use strict";n.r(t);var r=n(41),a=n.n(r),o=n(103),s=n.n(o),c=n(40),p=n.n(c),u=n(21),l=n.n(u),m=n(0),i=n.n(m),d=n(107),f=n(8),b=n(30),g=n(33),O=n(111),y=n(119);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=Object(m.lazy)((function(){return n.e(0).then(n.bind(null,109))}));t.default=function(e){var t=e.match.params.id,n=Object(f.useQuery)(b.d,{variables:{id:t}}),r=n.loading,o=n.data,c=(n.error,n.fetchMore),p=(n.refetch,Object(m.useState)(!0)),u=l()(p,2),E=u[0],j=u[1];if(r&&!o)return i.a.createElement(g.ImpulseSpinner,{size:40});var w=o.posts.edges[0].node;return i.a.createElement(O.ErrorBoundary,{FallbackComponent:y.a},i.a.createElement(m.Suspense,{FallbackComponent:y.a},i.a.createElement("div",{className:"main"},i.a.createElement(v,a()({key:w.id,likes:w.likers.length,comments:w.commentSet.length,user_id:w.user.id,username:w.user.username},w)),o.postComments.edges.map((function(e){var t=e.node;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,i.a.createElement("span",null,"node.user.username"),i.a.createElement(Link,{to:"post/".concat(t.user.id)})),i.a.createElement("h1",null,"node.content"))})),i.a.createElement(d.a,{onEnter:function(){c({query:b.d,variables:{cursor:o.post.postComments.pageInfo.endCursor},updateQuery:function(e,t){var n=t.fetchMoreResult;if(j(!0),!e.post.postComments.pageInfo.hasNextPage)return j(!1),e;var r=n.post.postComments.edges,a=n.post.postComments.pageInfo;return r.length?{post:h(h({},e.post),{},{postComments:{__typename:e.post.postComments.__typename,edges:[].concat(s()(e.post.posts.edges),s()(r)),pageInfo:a}})}:e}})}},i.a.createElement("div",{className:"spinner"},(r||E)&&i.a.createElement(g.ImpulseSpinner,{size:40}))))))}}}]);
//# sourceMappingURL=11.main.js.map