(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{119:function(e,t,n){"use strict";n.r(t);var r=n(41),a=n.n(r),o=n(103),s=n.n(o),c=n(40),u=n.n(c),m=n(21),l=n.n(m),p=n(0),i=n.n(p),f=n(107),b=n(8),d=n(30),g=n(33),y=n(111);var O=function(e){e.error;var t=e.componentStack,n=e.resetErrorBoundary;return i.a.createElement("div",{role:"alert"},i.a.createElement("p",null,"Something went wrong:"),i.a.createElement("pre",null,t),i.a.createElement("button",{className:"btn-teal btn",onClick:n},"Try again"))};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=Object(p.lazy)((function(){return n.e(0).then(n.bind(null,109))})),j=Object(p.lazy)((function(){return n.e(18).then(n.bind(null,127))}));t.default=function(e){var t=e.match.params.id,n=Object(b.useQuery)(d.e,{variables:{id:t}}),r=n.loading,o=n.data,c=(n.error,n.fetchMore),u=(n.refetch,Object(p.useState)(!0)),m=l()(u,2),E=m[0],w=m[1];if(r&&!o)return i.a.createElement(g.ImpulseSpinner,{size:40});var C=o.posts.edges[0].node;return i.a.createElement(y.ErrorBoundary,{FallbackComponent:O},i.a.createElement(i.a.Fragment,null,i.a.createElement(h,a()({key:C.id,user_id:C.user.id,username:C.user.username,show_comment:!0},C)),i.a.createElement(j,{comments:o.postComments.edges}),i.a.createElement(f.a,{onEnter:function(){c({query:d.e,variables:{cursor:o.postComments.pageInfo.endCursor,id:t},updateQuery:function(e,t){var n=t.fetchMoreResult;if(w(!0),!e.postComments.pageInfo.hasNextPage)return w(!1),e;var r=n.postComments.edges,a=n.postComments.pageInfo;return r.length?{post:v(v({},e.post),{},{postComments:{__typename:e.postComments.__typename,edges:[].concat(s()(e.postComments.edges),s()(r)),pageInfo:a}})}:e}}),w(!1)}},i.a.createElement("div",{className:"spinner"},(r||E)&&i.a.createElement(g.ImpulseSpinner,{size:40})))))}}}]);
//# sourceMappingURL=11.main.js.map