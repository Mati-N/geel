{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@material-ui/icons/Close.js","webpack:///./node_modules/@material-ui/icons/PhotoCamera.js","webpack:///./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack:///./src/components/SVG/Signup.svg","webpack:///./src/components/auth/Register.js"],"names":["module","exports","obj","__esModule","_interopRequireDefault","Object","defineProperty","value","default","_react","_default","createElement","d","Fragment","cx","cy","r","path","displayName","Component","memo","forwardRef","props","ref","_SvgIcon","_extends2","concat","muiName","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_ref","fill","_ref2","rx","ry","_ref3","_ref4","_ref5","x","y","width","height","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","viewBox","useStyles","makeStyles","theme","form","marginTop","spacing","margin","breakpoints","up","formControl","padding","formField","formLabel","fontSize","input","display","submit","button","marginBottom","imageButtons","alignItems","gap","justifyContent","Register","setAuth","useSetRecoilState","authAtom","setAlert","alertAtom","removeAlert","useResetRecoilState","useState","imageUrl","setImageUrl","classes","addUser","useMutation","ADD_USER","login","LOGIN_USER","useEffect","initialValues","username","password","image","validationSchema","Yup","max","required","min","matches","onSubmit","values","setSubmitting","variables","error","then","data","createUser","ok","message","type","tokenAuth","Cookies","set","token","user","id","refreshToken","oldAuth","isAuthenticated","isSubmitting","isValid","dirty","setFieldValue","className","alt","src","fullWidth","accept","onChange","e","reader","FileReader","file","files","onloadend","result","readAsDataURL","htmlFor","variant","color","startIcon","component","onClick","preventDefault","name","as","TextField","label","FormHelperText","disabled"],"mappings":"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","file":"15.main.js","sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}), _react.default.createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n})), 'PhotoCamera');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M74.35 607.007l63.432-91.139L74.32 616.92l-.037 10.37q-6.786-.058-13.434-.442c-.02-2.354 5.371-131.9 5.142-134.243.313-.089.489-12.252.613-12.784L.336 380.227l66.338 90.168.198 2.665 3.935-100.648-56.963-103.067 57.414 85.382c.021-1.37 2.717-208.022 2.744-209.297.016.677 1.254 164.455 1.263 165.145l54.479-65.923-54.532 80.088-.278 90.08 50.556-87.108c-63.093 127.033-49.13 82.58-50.742 150.44l73.436-121.292-73.499 138.765zM1044.748 619.38l26.433-37.98-26.447 42.111-.015 4.321q-2.828-.024-5.598-.184c-.008-.981 2.238-54.965 2.143-55.942.13-.037.203-5.106.255-5.328l-27.615-41.503 27.645 37.575.082 1.111 1.64-41.943-23.738-42.95 23.926 35.58c.009-.57 1.132-86.687 1.143-87.219.007.283.523 68.533.527 68.82l22.702-27.471-22.724 33.375-.116 37.538 21.068-36.3c-26.293 52.938-20.474 34.413-21.146 62.692l30.603-50.545-30.629 57.826z\",\n  fill: \"#d0cde1\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 536,\n  cy: 625.899,\n  rx: 536,\n  ry: 21,\n  fill: \"#d0cde1\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#3f3d56\",\n  d: \"M184 248.031h612v364.87H184z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M335.46 248.03A146.354 146.354 0 01189.14 392c-1.72 0-3.43-.03-5.14-.09V248.03zM519.937 612.9H461.73a31.008 31.008 0 0158.207 0zM796 424.17v122.9a61.523 61.523 0 010-122.9z\",\n  fill: \"#3d9970\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 279.459,\n  y: 380.615,\n  width: 422.142,\n  height: 36.062,\n  rx: 18.031,\n  fill: \"#fff\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 279.459,\n  y: 451.679,\n  width: 422.142,\n  height: 36.062,\n  rx: 18.031,\n  fill: \"#fff\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 553.597,\n  y: 522.743,\n  width: 148.004,\n  height: 36.062,\n  rx: 18.031,\n  fill: \"#fff\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M893.052 112.12s16.829 6.544 17.763 28.048-4.674 81.338-4.674 81.338 20.568 29.918 4.674 38.333-17.763-33.658-17.763-33.658l-18.699-88.818s11.22-26.178 18.699-25.243zM721.025 181.304s-40.202 26.178-42.072 5.61 12.154-100.972 12.154-100.972 1.87-34.593 21.503-26.178S707 97.16 707 97.16l2.805 65.445 18.7-.935z\",\n  fill: \"#a0616a\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M785.535 205.613s-123.411-45.812-116.866 7.48S707 333.697 707 333.697l11.219 17.764h23.373l-14.959-96.298s53.291 29.918 69.185 25.243c0 0 20.569 137.435 28.048 147.72s20.568 134.63 20.568 134.63l12.155 14.958h23.373v-210.36s40.202-130.89 9.35-137.434-103.778-24.308-103.778-24.308z\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M715.415 339.308s-5.61-10.285-14.959 0-31.787 22.438-31.787 22.438-48.617 11.22-9.35 20.568 43.942 0 43.942 0 6.544 1.87 12.154 3.74 42.072-4.674 42.072-10.284-12.379-39.134-17.408-34.058-24.664-2.404-24.664-2.404zM858.381 568.46s-13.785-11.352-17.029-8.108-20.272 25.137-20.272 25.137-45.41 34.868-4.054 40.545 38.922-9.731 38.922-9.731h12.975c1.621 0 23.515-9.73 22.704-13.785s-10.541-37.116-13.785-34.776-19.461.719-19.461.719z\",\n  fill: \"#2f2e41\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 733.179,\n  cy: 44.805,\n  r: 31.788,\n  fill: \"#a0616a\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M755.617 41.065s24.308 20.568 41.137 20.568-24.308 38.333-24.308 38.333l-36.462-32.723z\",\n  fill: \"#a0616a\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M764.966 99.966l-.728-7.366s18.492-32.836 24.102-35.641 9.349-2.805 9.349-2.805 18.699-19.634 39.267-9.35 69.185 75.73 69.185 75.73-34.593 2.805-29.918 29.918c0 0 34.593 88.818 25.243 89.753s-37.397-5.61-66.38 7.48-42.072 4.674-42.072 4.674l-14.959-48.616s-28.047-15.894-27.113-29.918l-40.67 18.231 3.74-34.592 24.776-28.516s-4.674-3.74 26.178-28.982z\",\n  fill: \"#575a89\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M703.938 48.241a11.737 11.737 0 01-4.616 3.144c-1.81.51-4.091-.116-4.813-1.853l1.344-1.75-4.03-2.503 1.757-2.06-3.246-3.525 2.562-2.032-4.877-3.488c6.32-10.315 13.157-20.758 23.137-27.596s23.924-9.267 34.148-2.8c5.308 3.358 9.061 8.687 12.068 14.202 6.046 11.09 11.376 21.9 12.163 34.507-3.798-3.698-9.343-5.783-13.142-9.481a28.463 28.463 0 00-5.669-4.64c-3.972-2.241-8.726-2.44-13.173-3.45-3.74-.85-6.166-2.535-8.996-4.945-3.365-2.867-3.502-1.758-6.9 1.47q-8.853 8.406-17.717 16.8z\",\n  fill: \"#2f2e41\"\n});\n\nfunction SvgSignup(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 1075.516 646.899\"\n  }, props), _ref, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14);\n}\n\nexport default SvgSignup;","import React, { useState, useEffect } from \"react\";\r\nimport { useSetRecoilState, useResetRecoilState } from \"recoil\";\r\nimport { authAtom, alertAtom } from \"../../atoms\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { Formik, Field, ErrorMessage, Form } from \"formik\";\r\nimport {\r\n  TextField,\r\n  FormControl,\r\n  makeStyles,\r\n  FormHelperText,\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { ADD_USER, LOGIN_USER } from \"../../Queries\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport SignUp from \"../SVG/Signup.svg\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    marginTop: theme.spacing(2),\r\n    width: \"80%\", // Fix IE 11 issue.\r\n    margin: \"auto\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"90%\",\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: \"0.1em\",\r\n    padding: \"0.1em\",\r\n  },\r\n\r\n  formField: {\r\n    padding: \"0.2em\",\r\n  },\r\n  formLabel: {\r\n    margin: \"auto\",\r\n    width: \"auto\",\r\n    fontSize: \"2.5em\",\r\n  },\r\n\r\n  input: {\r\n    display: \"none\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  button: {\r\n    padding: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n\r\n  imageButtons: {\r\n    padding: theme.spacing(1.5),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"15px\",\r\n    justifyContent: \"start\",\r\n  },\r\n}));\r\n\r\nfunction Register() {\r\n  const setAuth = useSetRecoilState(authAtom);\r\n  const setAlert = useSetRecoilState(alertAtom);\r\n  const removeAlert = useResetRecoilState(alertAtom);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const classes = useStyles();\r\n  const [addUser] = useMutation(ADD_USER);\r\n  const [login] = useMutation(LOGIN_USER);\r\n  useEffect(() => {\r\n    removeAlert();\r\n  }, []);\r\n\r\n  const doRegister = (username, password, image) => {\r\n    removeAlert();\r\n    addUser({\r\n      variables: {\r\n        username,\r\n        password,\r\n        image,\r\n      },\r\n    })\r\n      .catch((error) => `${error}`)\r\n      .then((d) => {\r\n        if (d.data) {\r\n          if (d.data.createUser.ok) {\r\n            login({\r\n              variables: {\r\n                username,\r\n                password,\r\n              },\r\n            })\r\n              .catch((error) =>\r\n                setAlert({ message: error.message, type: \"warning\" })\r\n              )\r\n              .then((d) => {\r\n                if (d) {\r\n                  if (d.data.tokenAuth !== null) {\r\n                    removeAlert();\r\n\r\n                    Cookies.set(\"token\", d.data.tokenAuth.token);\r\n                    Cookies.set(\"USER-ID\", d.data.tokenAuth.user.id);\r\n                    Cookies.set(\"refresh-token\", d.data.tokenAuth.refreshToken);\r\n                    setAuth((oldAuth) => ({\r\n                      ...oldAuth,\r\n                      token: d.data.tokenAuth.token,\r\n                      user: d.data.tokenAuth.user.id,\r\n                      refreshToken: d.data.tokenAuth.refreshToken,\r\n                      isAuthenticated: true,\r\n                    }));\r\n                  }\r\n                }\r\n              });\r\n            return true;\r\n          } else {\r\n            setAlert({ message: d.data.createUser.message, type: \"warning\" });\r\n            return false;\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{ username: \"\", password: \"\", image: null }}\r\n      validationSchema={Yup.object({\r\n        username: Yup.string()\r\n          .max(30, \"Must be 30 characters or less\")\r\n\r\n          .required(\"Required\"),\r\n        password: Yup.string()\r\n          .min(8, \"Must be 8 characters or more\")\r\n          .required(\"Required\")\r\n          .matches(\r\n            /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\r\n            \"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character\"\r\n          ),\r\n      })}\r\n      onSubmit={(values, { setSubmitting }) => {\r\n        setSubmitting(true);\r\n        doRegister(values.username, values.password, values.image);\r\n        setSubmitting(false);\r\n      }}\r\n    >\r\n      {({ isSubmitting, isValid, dirty, setFieldValue }) => (\r\n        <>\r\n          <Form className={classes.form}>\r\n            {imageUrl ? (\r\n              <img\r\n                alt=\"profile picture\"\r\n                className=\"mx-auto d-block w-25 h-25\"\r\n                src={imageUrl}\r\n              />\r\n            ) : (\r\n              <SignUp className=\"w-50 h-50 mx-auto d-block\" />\r\n            )}\r\n\r\n            <p className={classes.formLabel}>Register</p>\r\n            <FormControl className={classes.formControl} fullWidth>\r\n              <input\r\n                accept=\"image/*\"\r\n                className={classes.input}\r\n                id=\"icon-button-file\"\r\n                type=\"file\"\r\n                onChange={(e) => {\r\n                  let reader = new FileReader();\r\n                  let file = e.target.files[0];\r\n                  reader.onloadend = () => {\r\n                    setFieldValue(\"image\", file);\r\n                    setImageUrl(reader.result);\r\n                  };\r\n                  reader.readAsDataURL(file);\r\n                }}\r\n              />\r\n              <label\r\n                htmlFor=\"icon-button-file\"\r\n                className={classes.imageButtons}\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  className={classes.button}\r\n                  startIcon={<PhotoCamera />}\r\n                  component=\"span\"\r\n                >\r\n                  Profile Pic\r\n                </Button>\r\n\r\n                {imageUrl && (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    color=\"secondary\"\r\n                    className={classes.button}\r\n                    startIcon={<CloseIcon />}\r\n                    component=\"span\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      setImageUrl(null);\r\n                      setFieldValue(\"image\", null);\r\n                    }}\r\n                  >\r\n                    Unload Picture\r\n                  </Button>\r\n                )}\r\n              </label>\r\n            </FormControl>\r\n            <FormControl className={classes.formControl} fullWidth>\r\n              <Field\r\n                type=\"text\"\r\n                name=\"username\"\r\n                as={TextField}\r\n                label=\"Username\"\r\n                fullWidth\r\n                className={classes.formField}\r\n              />\r\n              <ErrorMessage\r\n                name=\"username\"\r\n                component={FormHelperText}\r\n                error={true}\r\n              />\r\n            </FormControl>\r\n            <FormControl className={classes.formControl} fullWidth>\r\n              <Field\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                as={TextField}\r\n                fullWidth\r\n                className={classes.formField}\r\n              />\r\n              <ErrorMessage\r\n                name=\"password\"\r\n                component={FormHelperText}\r\n                error={true}\r\n                htmlFor=\"password\"\r\n              />\r\n            </FormControl>\r\n            <FormControl className={classes.formControl} fullWidth>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-teal\"\r\n                disabled={isSubmitting || !(isValid && dirty)}\r\n              >\r\n                Register\r\n              </button>\r\n            </FormControl>\r\n          </Form>\r\n        </>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}