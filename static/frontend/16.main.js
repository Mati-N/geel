(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/@material-ui/icons/Close.js":
/*!**************************************************!*\
  !*** ./node_modules/@material-ui/icons/Close.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,a){"use strict";var r=a(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(/*! react */"./node_modules/react/index.js")),o=(0,r(a(/*! ./utils/createSvgIcon */"./node_modules/@material-ui/icons/utils/createSvgIcon.js")).default)(n.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},"./node_modules/@material-ui/icons/PhotoCamera.js":
/*!********************************************************!*\
  !*** ./node_modules/@material-ui/icons/PhotoCamera.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,a){"use strict";var r=a(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(/*! react */"./node_modules/react/index.js")),o=(0,r(a(/*! ./utils/createSvgIcon */"./node_modules/@material-ui/icons/utils/createSvgIcon.js")).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),n.default.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");t.default=o},"./node_modules/@material-ui/icons/utils/createSvgIcon.js":
/*!****************************************************************!*\
  !*** ./node_modules/@material-ui/icons/utils/createSvgIcon.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,a){"use strict";var r=a(/*! @babel/runtime/helpers/interopRequireDefault */"./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=o.default.memo(o.default.forwardRef((function(t,a){return o.default.createElement(s.default,(0,n.default)({ref:a},t),e)})));a.displayName="".concat(t,"Icon");return a.muiName=s.default.muiName,a};var n=r(a(/*! @babel/runtime/helpers/extends */"./node_modules/@babel/runtime/helpers/extends.js")),o=r(a(/*! react */"./node_modules/react/index.js")),s=r(a(/*! @material-ui/core/SvgIcon */"./node_modules/@material-ui/core/esm/SvgIcon/index.js"))},"./src/components/pages/Edit.js":
/*!**************************************!*\
  !*** ./src/components/pages/Edit.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var r=a(/*! react */"./node_modules/react/index.js"),n=a.n(r),o=a(/*! react-router-dom */"./node_modules/react-router-dom/esm/react-router-dom.js"),s=a(/*! @apollo/client */"./node_modules/@apollo/client/index.js"),l=a(/*! ../../Queries */"./src/Queries.js"),i=a(/*! recoil */"./node_modules/recoil/es/recoil.js"),u=a(/*! ../../atoms */"./src/atoms.js"),m=a(/*! formik */"./node_modules/formik/dist/formik.esm.js"),c=a(/*! @material-ui/core/Button */"./node_modules/@material-ui/core/esm/Button/index.js"),d=a(/*! @material-ui/core */"./node_modules/@material-ui/core/esm/index.js"),f=a(/*! @material-ui/icons/PhotoCamera */"./node_modules/@material-ui/icons/PhotoCamera.js"),p=a.n(f),b=a(/*! @material-ui/icons/Close */"./node_modules/@material-ui/icons/Close.js"),g=a.n(b),h=a(/*! yup */"./node_modules/yup/es/index.js");function w(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                    fragment User on UserNode {\n                      username\n                      imagePath\n                    }\n                  "]);return w=function(){return e},e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var y=Object(d.makeStyles)((function(e){return{form:(t={marginTop:e.spacing(4),width:"80%",margin:"auto"},a=e.breakpoints.up("sm"),r={width:"90%"},a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t),formField:{padding:"0.2em"},formControl:{margin:"0.1em",padding:"0.1em"},formLabel:{margin:"auto",width:"auto",fontSize:"2.5em"},submit:{margin:e.spacing(3,0,2)},input:{display:"none"},button:{padding:e.spacing(1),marginBottom:e.spacing(1)},imageButtons:{padding:e.spacing(2),display:"flex",alignItems:"center",gap:"15px",justifyContent:"space-evenly"}};var t,a,r}));t.default=function(){var e=Object(i.useSetRecoilState)(u.alertAtom),t=Object(i.useResetRecoilState)(u.alertAtom),a=j(Object(s.useMutation)(l.UPDATE_USER),1)[0],f=j(Object(r.useState)(null),2),b=f[0],v=f[1],E=y(),_=Object(o.useHistory)();return Object(r.useEffect)((function(){t()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(m.Formik,{initialValues:{username:"",newPassword:"",password:"",image:null},validationSchema:h.object({username:h.string().max(30,"Must be 30 characters or less"),password:h.string().min(8,"Must be 8 characters or more").required("Required"),newPassword:h.string().min(8,"Must be 8 characters or more").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character")}),onSubmit:function(t,r){var n=r.setSubmitting;null==t.username&&null==image&&null==t.newPassword||(n(!0),a({variables:{password:t.password,username:t.username.length>0?t.username:null,newPassword:t.newPassword.length>0?t.newPassword:null,image:t.image},update:function(e,t){var a=t.data;e&&a.ok&&e.writeFragment({id:"UserNode:".concat(a.updateUser.user.id),fragment:gql(w()),data:{username:a.updateUser.user.username,imagePath:a.updateUser.user.imagePath}})}}).then((function(t){t&&(t.data.updateUser.ok?(e({message:t.data.updateUser.message,type:"warning"}),_.push("/")):e({message:t.data.updateUser.message,type:"warning"}))})),n(!1))}},(function(e){var t=e.isSubmitting,a=e.isValid,r=e.dirty,o=e.setFieldValue;return n.a.createElement(n.a.Fragment,null,b&&n.a.createElement("img",{alt:"profile picture",className:"mx-auto d-block w-25 h-25",src:b}),n.a.createElement(m.Form,{className:E.form},n.a.createElement("p",{className:E.formLabel},"Edit Account"),n.a.createElement(d.FormControl,{className:E.formControl,fullWidth:!0},n.a.createElement("input",{accept:"image/*",className:E.input,id:"icon-button-file",type:"file",onChange:function(e){var t=new FileReader,a=e.target.files[0];t.onloadend=function(){o("image",a),v(t.result)},t.readAsDataURL(a)}}),n.a.createElement("label",{htmlFor:"icon-button-file",className:E.imageButtons},n.a.createElement(c.default,{variant:"contained",color:"secondary",className:E.button,startIcon:n.a.createElement(p.a,null),component:"span"},"Profile Pic"),b&&n.a.createElement(c.default,{variant:"outlined",color:"secondary",className:E.button,startIcon:n.a.createElement(g.a,null),component:"span",onClick:function(e){e.preventDefault(),v(null),o("image",null)}},"Unload Picture"))),n.a.createElement(d.FormControl,{className:E.formControl,fullWidth:!0},n.a.createElement(m.Field,{type:"text",name:"username",as:d.TextField,label:"Username",className:E.formField,fullWidth:!0}),n.a.createElement(m.ErrorMessage,{name:"username",component:d.FormHelperText,error:!0})),n.a.createElement(d.FormControl,{className:E.formControl,fullWidth:!0},n.a.createElement(m.Field,{type:"password",label:"Password",name:"password",as:d.TextField,fullWidth:!0,className:E.formField}),n.a.createElement(m.ErrorMessage,{name:"password",component:d.FormHelperText,error:!0})),n.a.createElement(d.FormControl,{className:E.formControl,fullWidth:!0},n.a.createElement(m.Field,{type:"password",label:"New Password",name:"newPassword",as:d.TextField,fullWidth:!0,className:E.formField}),n.a.createElement(m.ErrorMessage,{name:"newPassword",component:d.FormHelperText,error:!0})),n.a.createElement(d.FormControl,{className:E.formControl,fullWidth:!0},n.a.createElement("button",{type:"submit",className:"btn btn-teal",disabled:t||!(a&&r)},"Change"))))})))}}}]);
//# sourceMappingURL=16.main.js.map