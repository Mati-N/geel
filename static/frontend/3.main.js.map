{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/react-error-boundary/dist/react-error-boundary.umd.js","webpack:///./src/components/layout/Error.js","webpack:///./src/components/post/Post.js"],"names":["arrayLikeToArray","module","exports","arr","Array","isArray","iter","Symbol","iterator","Object","from","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","React","prototype","hasOwnProperty","call","initialState","error","info","ErrorBoundary","_React$Component","subClass","superClass","_this","_len","arguments","length","_args","_key","apply","this","concat","state","resetErrorBoundary","_this$props","_len2","args","_key2","props","onReset","setState","create","constructor","__proto__","_proto","componentDidCatch","_this$props$onError","_this$props2","onError","componentStack","componentDidUpdate","prevProps","_this$props$onResetKe","_this$props3","a","b","resetKeys","some","item","index","is","onResetKeysChange","render","_this$state","_this$props4","fallbackRender","FallbackComponent","fallback","isValidElement","createElement","Error","children","Component","useErrorHandler","givenError","_React$useState","useState","setError","withErrorBoundary","errorBoundaryProps","Wrapped","name","displayName","defineProperty","value","factory","role","message","onClick","PostItem","lazy","Post","id","match","params","useQuery","GET_POST","variables","loading","data","fetchMore","refetch","spin","size","node","posts","edges","className","key","comments","user_id","username","text","title","creation","Date"],"mappings":"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","file":"3.main.js","sourcesContent":["var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = global || self, factory(global.ReactErrorBoundary = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  var changedArray = function (a, b) {\n    if (a === void 0) {\n      a = [];\n    }\n\n    if (b === void 0) {\n      b = [];\n    }\n\n    return a.length !== b.length || a.some(function (item, index) {\n      return !Object.is(item, b[index]);\n    });\n  };\n\n  var initialState = {\n    error: null,\n    info: null\n  };\n\n  var ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(ErrorBoundary, _React$Component);\n\n    function ErrorBoundary() {\n      var _this;\n\n      for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n        _args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\n      _this.state = initialState;\n\n      _this.resetErrorBoundary = function () {\n        var _this$props;\n\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\n\n        _this.setState(initialState);\n      };\n\n      return _this;\n    }\n\n    var _proto = ErrorBoundary.prototype;\n\n    _proto.componentDidCatch = function componentDidCatch(error, info) {\n      var _this$props$onError, _this$props2;\n\n      (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info == null ? void 0 : info.componentStack);\n      this.setState({\n        error: error,\n        info: info\n      });\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n      var error = this.state.error;\n      var resetKeys = this.props.resetKeys;\n\n      if (error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n        var _this$props$onResetKe, _this$props3;\n\n        (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\n        this.setState(initialState);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          info = _this$state.info;\n      var _this$props4 = this.props,\n          fallbackRender = _this$props4.fallbackRender,\n          FallbackComponent = _this$props4.FallbackComponent,\n          fallback = _this$props4.fallback;\n\n      if (error !== null) {\n        var props = {\n          componentStack: info == null ? void 0 : info.componentStack,\n          error: error,\n          resetErrorBoundary: this.resetErrorBoundary\n        };\n\n        if ( /*#__PURE__*/React.isValidElement(fallback)) {\n          return fallback;\n        } else if (typeof fallbackRender === 'function') {\n          return fallbackRender(props);\n        } else if (FallbackComponent) {\n          return /*#__PURE__*/React.createElement(FallbackComponent, props);\n        } else {\n          throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\n        }\n      }\n\n      return this.props.children;\n    };\n\n    return ErrorBoundary;\n  }(React.Component);\n\n  function withErrorBoundary(Component, errorBoundaryProps) {\n    function Wrapped(props) {\n      return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\n    } // Format for display in DevTools\n\n\n    var name = Component.displayName || Component.name || 'Unknown';\n    Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\n    return Wrapped;\n  }\n\n  function useErrorHandler(givenError) {\n    var _React$useState = React.useState(null),\n        error = _React$useState[0],\n        setError = _React$useState[1];\n\n    if (givenError) throw givenError;\n    if (error) throw error;\n    return setError;\n  }\n\n  exports.ErrorBoundary = ErrorBoundary;\n  exports.useErrorHandler = useErrorHandler;\n  exports.withErrorBoundary = withErrorBoundary;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=react-error-boundary.umd.js.map\n","import React from \"react\";\r\n\r\nfunction Error({ error, componentStack, resetErrorBoundary }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p>Something went wrong:</p>\r\n      <pre>{error.message}</pre>\r\n      <pre>{componentStack}</pre>\r\n      <button onClick={resetErrorBoundary}>Try again</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error;\r\n","import React, { useState, lazy, ErrorInfo } from \"react\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_POST } from \"../../Queries\";\r\nimport { ImpulseSpinner as Spinner } from \"react-spinners-kit\";\r\nimport { ErrorBoundary } from \"react-error-boundary\";\r\nimport Error from \"../layout/Error\";\r\n\r\nconst PostItem = lazy(() => import(\"./PostItem\"));\r\n\r\nconst Post = ({\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) => {\r\n  const { loading, data, error, fetchMore, refetch } = useQuery(GET_POST, {\r\n    variables: { id },\r\n  });\r\n  const [spin, setSpin] = useState(true);\r\n\r\n  const more = () => {\r\n    fetchMore({\r\n      query: GET_COMMENTS,\r\n      variables: { cursor: data.post.postComments.pageInfo.endCursor },\r\n      updateQuery: (previousResult, { fetchMoreResult }) => {\r\n        setSpin(true);\r\n        if (!previousResult.post.postComments.pageInfo.hasNextPage) {\r\n          setSpin(false);\r\n          return previousResult;\r\n        }\r\n        const newEdges = fetchMoreResult.post.postComments.edges;\r\n        const pageInfo = fetchMoreResult.post.postComments.pageInfo;\r\n\r\n        return newEdges.length\r\n          ? {\r\n              post: {\r\n                ...previousResult.post,\r\n                postComments: {\r\n                  __typename: previousResult.post.postComments.__typename,\r\n                  edges: [...previousResult.post.posts.edges, ...newEdges],\r\n                  pageInfo,\r\n                },\r\n              },\r\n            }\r\n          : previousResult;\r\n      },\r\n    });\r\n  };\r\n\r\n  if (loading && !data) {\r\n    return <Spinner size={40} />;\r\n  }\r\n  const { node } = data.posts.edges[0];\r\n\r\n  return (\r\n    <ErrorBoundary FallbackComponent={Error}>\r\n      <div className=\"main\">\r\n        <PostItem\r\n          key={node.id}\r\n          comments={50}\r\n          user_id={35}\r\n          id={35}\r\n          username=\"Ethiopian\"\r\n          text=\" \"\r\n          title=\" \"\r\n          creation={new Date()}\r\n        />{\" \"}\r\n        {/*likes={node.likers.length}\r\n        comments={node.commentSet.length}\r\n        user_id={node.user.id}\r\n        username={node.user.username}\r\n        {...node}\r\n  />*/}\r\n        {(loading || spin) && <Spinner />}\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n"],"sourceRoot":""}