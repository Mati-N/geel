(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{103:function(e,t,n){var o=n(104),r=n(105),i=n(81),a=n(106);e.exports=function(e){return o(e)||r(e)||i(e)||a()}},104:function(e,t,n){var o=n(82);e.exports=function(e){if(Array.isArray(e))return o(e)}},105:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},106:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},107:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var o=n(108),r=(n(29),n(0)),i=n.n(r),a=n(37);function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=l(e);if(t){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function f(e,t){var n,o=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"==typeof o)return o;var r=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"==typeof r?r*t:void 0}function d(e){return"string"==typeof e.type}var v;var h=[];function w(e){h.push(e),v||(v=setTimeout((function(){var e;for(v=null;e=h.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=h.indexOf(e);-1!==n&&(h.splice(n,1),!h.length&&v&&(clearTimeout(v),v=null))}}}var m={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},b=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(v,t);var n,r,l,u=p(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=u.call(this,e)).refElement=function(e){t._ref=e},t}return n=v,(r=[{key:"componentDidMount",value:function(){var e=this;v.getWindow()&&(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug,function(e,t){if(e&&!d(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=Object(o.a)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=Object(o.a)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))}},{key:"componentDidUpdate",value:function(){var e=this;v.getWindow()&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=w((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))}},{key:"componentWillUnmount",value:function(){v.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())}},{key:"_findScrollableAncestor",value:function(){var t=this.props,n=t.horizontal,o=t.scrollableAncestor;if(o)return function(t){return"window"===t?e.window:t}(o);for(var r=this._ref;r.parentNode;){if((r=r.parentNode)===document.body)return window;var i=window.getComputedStyle(r),a=(n?i.getPropertyValue("overflow-x"):i.getPropertyValue("overflow-y"))||i.getPropertyValue("overflow");if("auto"===a||"scroll"===a||"overlay"===a)return r}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop==0?"invisible":e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?"inside":e.viewportBottom<e.waypointTop?"below":e.waypointTop<e.viewportTop?"above":"invisible"}(t),o=this._previousPosition,r=this.props,i=(r.debug,r.onPositionChange),a=r.onEnter,s=r.onLeave,l=r.fireOnRapidScroll;if(this._previousPosition=n,o!==n){var c={currentPosition:n,previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};i.call(this,c),"inside"===n?a.call(this,c):"inside"===o&&s.call(this,c),l&&("below"===o&&"above"===n||"above"===o&&"below"===n)&&(a.call(this,{currentPosition:"inside",previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),s.call(this,{currentPosition:n,previousPosition:"inside",event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e,t,n=this.props,o=n.horizontal,r=(n.debug,this._ref.getBoundingClientRect()),i=r.left,a=r.top,s=r.right,l=r.bottom,c=o?i:a,u=o?s:l;this.scrollableAncestor===window?(e=o?window.innerWidth:window.innerHeight,t=0):(e=o?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=o?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var p=this.props,d=p.bottomOffset;return{waypointTop:c,waypointBottom:u,viewportTop:t+f(p.topOffset,e),viewportBottom:t+e-f(d,e)}}},{key:"render",value:function(){var e=this,t=this.props.children;return t?d(t)||Object(a.isForwardRef)(t)?i.a.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"==typeof t.ref?t.ref(n):t.ref.current=n)}}):i.a.cloneElement(t,{innerRef:this.refElement}):i.a.createElement("span",{ref:this.refElement,style:{fontSize:0}})}}])&&s(n.prototype,r),l&&s(n,l),v}(i.a.PureComponent);b.above="above",b.below="below",b.inside="inside",b.invisible="invisible",b.getWindow=function(){if("undefined"!=typeof window)return window},b.defaultProps=m,b.displayName="Waypoint"}).call(this,n(57))},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=!("undefined"==typeof window||!window.document||!window.document.createElement);var r=void 0;function i(){return void 0===r&&(r=function(){if(!o)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(e){}return e}()),r}function a(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function s(e){this.target=e,this.events={}}s.prototype.getEventHandlers=function(e,t){var n,o=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[o]||(this.events[o]={handlers:[],handleEvent:void 0},this.events[o].nextHandlers=this.events[o].handlers),this.events[o]},s.prototype.handleEvent=function(e,t,n){var o=this.getEventHandlers(e,t);o.handlers=o.nextHandlers,o.handlers.forEach((function(e){e&&e(n)}))},s.prototype.add=function(e,t,n){var o=this,r=this.getEventHandlers(e,n);a(r),0===r.nextHandlers.length&&(r.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,r.handleEvent,n)),r.nextHandlers.push(t);var i=!0;return function(){if(i){i=!1,a(r);var s=r.nextHandlers.indexOf(t);r.nextHandlers.splice(s,1),0===r.nextHandlers.length&&(o.target&&o.target.removeEventListener(e,r.handleEvent,n),r.handleEvent=void 0)}}};function l(e,t,n,o){e.__consolidated_events_handlers__||(e.__consolidated_events_handlers__=new s(e));var r=function(e){if(e)return i()?e:!!e.capture}(o);return e.__consolidated_events_handlers__.add(t,n,r)}},118:function(e,t,n){"use strict";n.r(t);var o=n(41),r=n.n(o),i=n(40),a=n.n(i),s=n(103),l=n.n(s),c=n(21),u=n.n(c),p=n(0),f=n.n(p),d=n(30),v=n(8),h=n(107),w=n(33),m=n(26),b=n(34),y=n(10);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=Object(p.lazy)((function(){return n.e(1).then(n.bind(null,110))})),_=Object(p.lazy)((function(){return n.e(0).then(n.bind(null,109))}));t.default=function(e){var t=e.match,n=Object(v.useQuery)(d.f,{variables:{id:t.params.id}}),o=n.loading,i=n.data,a=n.error,s=Object(v.useQuery)(d.o,{variables:{id:t.params.id}}),c=s.loading,g=s.data,k=s.error,x=s.fetchMore,P=Object(p.useContext)(m.a),j=(P.Logout,P.user),T=Object(p.useContext)(b.a),B=T.removeAlert,S=(T.setAlert,Object(p.useState)(!1)),N=u()(S,2),L=N[0],H=N[1],A=Object(p.useState)({first:!0,following:!1,followers:""}),z=u()(A,2),R=z[0],M=z[1],W=Object(v.useMutation)(d.c),C=u()(W,1)[0];if(Object(p.useEffect)((function(){B()}),[]),j==t.params.id)return f.a.createElement(y.c,{to:"/account"});if(c||!g||o||!i)return f.a.createElement("div",{className:"spinner"},f.a.createElement(w.ImpulseSpinner,{size:50,style:{margin:"auto"}}));if(k||a)return f.a.createElement(O,null);c||R.first&&M({first:!1,following:i.isFollowing,followers:i.userGet.followers.edges.length});var D=g.userPost;return f.a.createElement("div",{className:"main"},f.a.createElement("div",{className:"account-info"},f.a.createElement("div",{className:"account-info-top"},f.a.createElement("span",{className:"username",style:{display:"block"}},i.userGet.username)),f.a.createElement("button",{className:"btn btn-teal",onClick:function(){C({variables:{id:t.params.id}}).then((function(e){var t=e.data.followUser;M(E(E({},R),{},{following:!R.following,followers:t.user.followers.edges.length}))}))}},R.following?f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user-minus",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"rgb(248, 248, 248)",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},f.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),f.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),f.a.createElement("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),f.a.createElement("line",{x1:"16",y1:"11",x2:"22",y2:"11"})):f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-user-plus",width:"25",height:"25",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"rgb(248, 248, 248)",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},f.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),f.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),f.a.createElement("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),f.a.createElement("path",{d:"M16 11h6m-3 -3v6"}))," ",R.following?"Unfollow":"Follow"),f.a.createElement("div",{className:"info-mini"},f.a.createElement("span",{className:"info"},"Posts",f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-right",width:"34",height:"34",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#607D8B",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},f.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),f.a.createElement("polyline",{points:"9 6 15 12 9 18"}))," ",i.userGet.posts.edges.length),f.a.createElement("span",{className:"info"},"Followers",f.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-right",width:"34",height:"34",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#607D8B",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},f.a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"}),f.a.createElement("polyline",{points:"9 6 15 12 9 18"}))," ",R.followers))),f.a.createElement("div",{className:"main"},D.edges.map((function(e){var t=e.node;return f.a.createElement(_,r()({key:"".concat(t.id,"k")},t,{likes:t.likers.length,comments:t.commentSet.length,user_id:i.userGet.id,username:i.userGet.username}))})),f.a.createElement(h.a,{onEnter:function(){x({query:d.o,variables:{cursor:g.userPost.pageInfo.endCursor,id:t.params.id},updateQuery:function(e,t){var n=t.fetchMoreResult;H(!0);var o=n.userPost.edges,r=n.userPost.pageInfo;return e.userPost.pageInfo.hasNextPage?o.length?{userPost:{__typename:e.userPost.__typename,edges:[].concat(l()(e.userPost.edges),l()(o)),pageInfo:r}}:e:(H(!1),e)}})}},f.a.createElement("div",{className:"spinner"},L&&f.a.createElement(w.ImpulseSpinner,{size:40})))))}}}]);
//# sourceMappingURL=5.main.js.map