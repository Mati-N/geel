{"version":3,"sources":["webpack:///./src/components/SVG/Edit.svg","webpack:///./src/components/SVG/ForwardPointer.svg","webpack:///./src/components/SVG/Logout.svg","webpack:///./src/components/pages/Account.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_ref","d","stroke","_ref2","_ref3","props","className","width","height","viewBox","strokeWidth","fill","strokeLinecap","strokeLinejoin","Posts","lazy","Account","useQuery","SELF_USER","user_loading","loading","user_data","data","user_error","error","SELF_POSTS","fetchMore","useContext","AuthContext","Logout","doLogout","user","removeAlert","AlertContext","useState","spin","setSpin","useEffect","size","style","margin","post","selfPost","display","selfUser","username","postCount","followerCount","background","border","onClick","to","posts","edges","self","id","onEnter","query","variables","cursor","pageInfo","endCursor","updateQuery","previousResult","fetchMoreResult","console","log","newEdges","hasNextPage","__typename"],"mappings":"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","file":"6.main.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  stroke: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 7H6a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-3\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 15h3l8.5-8.5a1.5 1.5 0 00-3-3L9 12v3M16 5l3 3\"\n});\n\nfunction SvgEdit(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"Edit_svg__icon Edit_svg__icon-tabler Edit_svg__icon-tabler-edit\",\n    width: 44,\n    height: 44,\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"#2c3e50\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, props), _ref, _ref2, _ref3);\n}\n\nexport default SvgEdit;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  stroke: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 6l6 6-6 6\"\n});\n\nfunction SvgForwardPointer(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 45,\n    height: 45,\n    strokeWidth: 1.5,\n    stroke: \"#607D8B\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, props), _ref, _ref2);\n}\n\nexport default SvgForwardPointer;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  stroke: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 8V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2h7a2 2 0 002-2v-2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 12h14l-3-3m0 6l3-3\"\n});\n\nfunction SvgLogout(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 45,\n    height: 45,\n    strokeWidth: 2,\n    stroke: \"#607D8B\",\n    fill: \"none\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, props), _ref, _ref2, _ref3);\n}\n\nexport default SvgLogout;","import React, { useState, useContext, useEffect, lazy } from \"react\";\r\nimport { SELF_POSTS, SELF_USER } from \"../../Queries\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { ImpulseSpinner as Spinner } from \"react-spinners-kit\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport AlertContext from \"../../context/alert/AlertContext\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Posts = lazy(() => import(\"../post/Posts\"));\r\nimport ForwardPointer from \"../SVG/ForwardPointer.svg\";\r\nimport LogoutSVG from \"../SVG/Logout.svg\";\r\nimport Edit from \"../SVG/Edit.svg\";\r\n\r\nconst Account = () => {\r\n  const {\r\n    loading: user_loading,\r\n    data: user_data,\r\n    error: user_error,\r\n  } = useQuery(SELF_USER);\r\n  const { loading, data, error, fetchMore } = useQuery(SELF_POSTS);\r\n  const { doLogout: Logout, user } = useContext(AuthContext);\r\n  const { removeAlert } = useContext(AlertContext);\r\n  const [spin, setSpin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    removeAlert();\r\n  }, []);\r\n\r\n  if (loading || !data || user_loading)\r\n    return (\r\n      <div className=\"spinner\">\r\n        <Spinner\r\n          size={50}\r\n          style={{\r\n            margin: \"auto\",\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n\r\n  if (error || user_error) return `${error}`;\r\n\r\n  const more = () => {\r\n    fetchMore({\r\n      query: SELF_POSTS,\r\n      variables: { cursor: data.selfPost.pageInfo.endCursor },\r\n      updateQuery: (previousResult, { fetchMoreResult }) => {\r\n        setSpin(true);\r\n        console.log(fetchMoreResult);\r\n        const newEdges = fetchMoreResult.selfPost.edges;\r\n        const pageInfo = fetchMoreResult.selfPost.pageInfo;\r\n\r\n        if (!previousResult.selfPost.pageInfo.hasNextPage) {\r\n          setSpin(false);\r\n          return previousResult;\r\n        }\r\n\r\n        return newEdges.length\r\n          ? {\r\n              selfPost: {\r\n                __typename: previousResult.selfPost.__typename,\r\n                edges: [...previousResult.selfPost.edges, ...newEdges],\r\n                pageInfo,\r\n              },\r\n            }\r\n          : previousResult;\r\n      },\r\n    });\r\n  };\r\n\r\n  const { selfPost: post } = data;\r\n  return (\r\n    <>\r\n      <div className=\"account-info\">\r\n        <div className=\"account-info-top\">\r\n          <span className=\"username\" style={{ display: \"block\" }}>\r\n            {user_data.selfUser.username}\r\n          </span>\r\n        </div>\r\n        <div className=\"info-mini\">\r\n          <span className=\"info\">{user_data.selfUser.postCount} Posts</span>\r\n          <span className=\"info\">\r\n            {user_data.selfUser.followerCount} Followers\r\n          </span>\r\n        </div>\r\n        <ul className=\"options\">\r\n          <li className=\"option\">\r\n            <button\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n              }}\r\n              onClick={Logout}\r\n            >\r\n              <LogoutSVG className=\"svg\" /> Logout\r\n            </button>\r\n          </li>\r\n          <li className=\"option\">\r\n            <Edit className=\"svg\" />\r\n            <Link to=\"/password\">Change Password</Link>\r\n          </li>\r\n          <li className=\"option\">\r\n            <Edit className=\"svg\" />\r\n            <Link to=\"/username\">Change Username</Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"main\">\r\n        <Posts posts={post.edges} self={true} id={user} username=\"You\" />\r\n        <Waypoint\r\n          onEnter={() => {\r\n            more();\r\n          }}\r\n        >\r\n          <div className=\"spinner\">{spin && <Spinner size={40} />}</div>\r\n        </Waypoint>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n"],"sourceRoot":""}