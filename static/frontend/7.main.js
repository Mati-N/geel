(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./node_modules/react-error-boundary/dist/react-error-boundary.umd.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-error-boundary/dist/react-error-boundary.umd.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,r,t){!function(e,r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var t={error:null,info:null},n=function(e){var n,o;function s(){for(var r,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(r=e.call.apply(e,[this].concat(o))||this).state=t,r.resetErrorBoundary=function(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];null==r.props.onReset||(e=r.props).onReset.apply(e,o),r.setState(t)},r}o=e,(n=s).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var a=s.prototype;return a.componentDidCatch=function(e,r){var t,n;null==(t=(n=this.props).onError)||t.call(n,e,null==r?void 0:r.componentStack),this.setState({error:e,info:r})},a.componentDidUpdate=function(e){var r,n,o,s,a=this.state.error,l=this.props.resetKeys;null!==a&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(s=l)&&(s=[]),o.length!==s.length||o.some((function(e,r){return!Object.is(e,s[r])})))&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,l),this.setState(t))},a.render=function(){var e=this.state,t=e.error,n=e.info,o=this.props,s=o.fallbackRender,a=o.FallbackComponent,l=o.fallback;if(null!==t){var c={componentStack:null==n?void 0:n.componentStack,error:t,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(l))return l;if("function"==typeof s)return s(c);if(a)return r.createElement(a,c);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},s}(r.Component);e.ErrorBoundary=n,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],o=t[1];if(e)throw e;if(n)throw n;return o},e.withErrorBoundary=function(e,t){function o(o){return r.createElement(n,t,r.createElement(e,o))}var s=e.displayName||e.name||"Unknown";return o.displayName="withErrorBoundary("+s+")",o},Object.defineProperty(e,"__esModule",{value:!0})}(r,t(/*! react */"./node_modules/react/index.js"))},"./src/components/layout/Error.js":
/*!****************************************!*\
  !*** ./src/components/layout/Error.js ***!
  \****************************************/
/*! exports provided: default */function(e,r,t){"use strict";t.r(r);var n=t(/*! react */"./node_modules/react/index.js"),o=t.n(n);r.default=function(e){e.error;var r=e.componentStack,t=e.resetErrorBoundary;return o.a.createElement("div",{role:"alert"},o.a.createElement("p",null,"Something went wrong:"),o.a.createElement("pre",null,r),o.a.createElement("button",{className:"btn-teal btn",onClick:t},"Try again"))}},"./src/components/post/Post.js":
/*!*************************************!*\
  !*** ./src/components/post/Post.js ***!
  \*************************************/
/*! exports provided: default */function(e,r,t){"use strict";t.r(r);var n=t(/*! @babel/runtime/helpers/extends */"./node_modules/@babel/runtime/helpers/extends.js"),o=t.n(n),s=t(/*! @babel/runtime/helpers/toConsumableArray */"./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=t.n(s),l=t(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js"),c=t.n(l),u=t(/*! @babel/runtime/helpers/slicedToArray */"./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=t.n(u),p=t(/*! react */"./node_modules/react/index.js"),d=t.n(p),m=t(/*! react-waypoint */"./node_modules/react-waypoint/es/index.js"),f=t(/*! @apollo/client */"./node_modules/@apollo/client/index.js"),y=t(/*! ../../Queries */"./src/Queries.js"),b=t(/*! react-spinners-kit */"./node_modules/react-spinners-kit/lib/index.js"),h=t(/*! react-error-boundary */"./node_modules/react-error-boundary/dist/react-error-boundary.umd.js"),j=t(/*! ../layout/Error */"./src/components/layout/Error.js");function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){c()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=Object(p.lazy)((function(){return t.e(/*! import() */3).then(t.bind(null,/*! ./PostItem */"./src/components/post/PostItem.js"))})),O=Object(p.lazy)((function(){return t.e(/*! import() */8).then(t.bind(null,/*! ./Comments */"./src/components/post/Comments.js"))}));r.default=function(e){var r=e.match.params.id,t=Object(f.useQuery)(y.GET_POST,{variables:{id:r}}),n=t.loading,s=t.data,l=(t.error,t.fetchMore),c=(t.refetch,Object(p.useState)(!0)),u=i()(c,2),E=u[0],w=u[1];if(n&&!s)return d.a.createElement(b.ImpulseSpinner,{size:40});var _=s.posts.edges[0].node;return d.a.createElement(h.ErrorBoundary,{FallbackComponent:j.default},d.a.createElement("div",{className:"main"},d.a.createElement(g,o()({key:_.id,likes:_.likers.length,comments:_.commentSet.length,user_id:_.user.id,username:_.user.username,show_comment:!0},_)),d.a.createElement(O,{comments:s.postComments.edges}),d.a.createElement(m.Waypoint,{onEnter:function(){l({query:y.GET_POST,variables:{cursor:s.postComments.pageInfo.endCursor,id:r},updateQuery:function(e,r){var t=r.fetchMoreResult;if(w(!0),!e.postComments.pageInfo.hasNextPage)return w(!1),e;var n=t.postComments.edges,o=t.postComments.pageInfo;return n.length?{post:v(v({},e.post),{},{postComments:{__typename:e.postComments.__typename,edges:[].concat(a()(e.postComments.edges),a()(n)),pageInfo:o}})}:e}}),w(!1)}},d.a.createElement("div",{className:"spinner"},(n||E)&&d.a.createElement(b.ImpulseSpinner,{size:40})))))}}}]);
//# sourceMappingURL=7.main.js.map