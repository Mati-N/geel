(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./node_modules/react-error-boundary/dist/react-error-boundary.umd.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-error-boundary/dist/react-error-boundary.umd.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,r,t){!function(e,r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var t={error:null,info:null},n=function(e){var n,o;function a(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).state=t,r.resetErrorBoundary=function(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];null==r.props.onReset||(e=r.props).onReset.apply(e,o),r.setState(t)},r}o=e,(n=a).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=a.prototype;return s.componentDidCatch=function(e,r){var t,n;null==(t=(n=this.props).onError)||t.call(n,e,null==r?void 0:r.componentStack),this.setState({error:e,info:r})},s.componentDidUpdate=function(e){var r,n,o,a,s=this.state.error,l=this.props.resetKeys;null!==s&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(a=l)&&(a=[]),o.length!==a.length||o.some((function(e,r){return!Object.is(e,a[r])})))&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,l),this.setState(t))},s.render=function(){var e=this.state,t=e.error,n=e.info,o=this.props,a=o.fallbackRender,s=o.FallbackComponent,l=o.fallback;if(null!==t){var c={componentStack:null==n?void 0:n.componentStack,error:t,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(l))return l;if("function"==typeof a)return a(c);if(s)return r.createElement(s,c);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},a}(r.Component);e.ErrorBoundary=n,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],o=t[1];if(e)throw e;if(n)throw n;return o},e.withErrorBoundary=function(e,t){function o(o){return r.createElement(n,t,r.createElement(e,o))}var a=e.displayName||e.name||"Unknown";return o.displayName="withErrorBoundary("+a+")",o},Object.defineProperty(e,"__esModule",{value:!0})}(r,t(/*! react */"./node_modules/react/index.js"))},"./src/components/layout/Error.js":
/*!****************************************!*\
  !*** ./src/components/layout/Error.js ***!
  \****************************************/
/*! exports provided: default */function(e,r,t){"use strict";t.r(r);var n=t(/*! react */"./node_modules/react/index.js"),o=t.n(n);r.default=function(e){e.error;var r=e.componentStack,t=e.resetErrorBoundary;return o.a.createElement("div",{role:"alert"},o.a.createElement("p",null,"Something went wrong:"),o.a.createElement("pre",null,r),o.a.createElement("button",{className:"btn-teal btn",onClick:t},"Try again"))}},"./src/components/post/Post.js":
/*!*************************************!*\
  !*** ./src/components/post/Post.js ***!
  \*************************************/
/*! exports provided: default */function(e,r,t){"use strict";t.r(r);var n=t(/*! @babel/runtime/helpers/extends */"./node_modules/@babel/runtime/helpers/extends.js"),o=t.n(n),a=t(/*! @babel/runtime/helpers/toConsumableArray */"./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=t.n(a),l=t(/*! @babel/runtime/helpers/defineProperty */"./node_modules/@babel/runtime/helpers/defineProperty.js"),c=t.n(l),u=t(/*! @babel/runtime/helpers/slicedToArray */"./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=t.n(u),p=t(/*! react */"./node_modules/react/index.js"),d=t.n(p),m=t(/*! react-waypoint */"./node_modules/react-waypoint/es/index.js"),f=t(/*! @apollo/client */"./node_modules/@apollo/client/index.js"),y=t(/*! ../../Queries */"./src/Queries.js"),b=t(/*! react-spinners-kit */"./node_modules/react-spinners-kit/lib/index.js"),h=t(/*! react-error-boundary */"./node_modules/react-error-boundary/dist/react-error-boundary.umd.js"),E=t(/*! ../layout/Error */"./src/components/layout/Error.js");function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){c()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g=Object(p.lazy)((function(){return t.e(/*! import() */1).then(t.bind(null,/*! ./PostItem */"./src/components/post/PostItem.js"))}));r.default=function(e){var r=e.match.params.id,t=Object(f.useQuery)(y.GET_POST,{variables:{id:r}}),n=t.loading,a=t.data,l=(t.error,t.fetchMore),c=(t.refetch,Object(p.useState)(!0)),u=i()(c,2),j=u[0],O=u[1];if(n&&!a)return d.a.createElement(b.ImpulseSpinner,{size:40});var w=a.posts.edges[0].node;return d.a.createElement(h.ErrorBoundary,{FallbackComponent:E.default},d.a.createElement(p.Suspense,{FallbackComponent:E.default},d.a.createElement("div",{className:"main"},d.a.createElement(g,o()({key:w.id,likes:w.likers.length,comments:w.commentSet.length,user_id:w.user.id,username:w.user.username},w)),a.postComments.edges.map((function(e){var r=e.node;return d.a.createElement(d.a.Fragment,null,d.a.createElement("span",null,d.a.createElement("span",null,"node.user.username"),d.a.createElement(Link,{to:"post/".concat(r.user.id)})),d.a.createElement("h1",null,"node.content"))})),d.a.createElement(m.Waypoint,{onEnter:function(){l({query:y.GET_POST,variables:{cursor:a.post.postComments.pageInfo.endCursor},updateQuery:function(e,r){var t=r.fetchMoreResult;if(O(!0),!e.post.postComments.pageInfo.hasNextPage)return O(!1),e;var n=t.post.postComments.edges,o=t.post.postComments.pageInfo;return n.length?{post:v(v({},e.post),{},{postComments:{__typename:e.post.postComments.__typename,edges:[].concat(s()(e.post.posts.edges),s()(n)),pageInfo:o}})}:e}})}},d.a.createElement("div",{className:"spinner"},(n||j)&&d.a.createElement(b.ImpulseSpinner,{size:40}))))))}}}]);
//# sourceMappingURL=8.main.js.map