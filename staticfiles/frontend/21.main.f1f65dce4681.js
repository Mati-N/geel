(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"./src/components/SVG/Login.svg":
/*!**************************************!*\
  !*** ./src/components/SVG/Login.svg ***!
  \**************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var a=r(/*! react */"./node_modules/react/index.js");function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var o=a.createElement("path",{d:"M666.092 514.257c-11.138-9.412-17.904-24.28-16.13-38.754s12.764-27.78 27.019-30.854 30.504 5.435 34.834 19.36c2.383-26.847 5.128-54.818 19.402-77.68 12.924-20.701 35.308-35.514 59.568-38.164s49.803 7.359 64.933 26.507 18.835 46.986 8.238 68.97c-7.806 16.194-22.188 28.246-37.257 38.051a240.452 240.452 0 01-164.453 35.977z",fill:"#f2f2f2"}),l=a.createElement("path",{d:"M831.728 356.079a393.414 393.414 0 00-54.826 54.442 394.561 394.561 0 00-61.752 103.194c-1.112 2.725 3.312 3.911 4.412 1.217a392.342 392.342 0 01115.401-155.618c2.285-1.86-.97-5.08-3.235-3.235z",fill:"#fff"}),c=a.createElement("path",{d:"M280.067 511.7c15.299-12.928 24.591-33.349 22.154-53.229s-17.53-38.156-37.11-42.377-41.897 7.464-47.844 26.59c-3.272-36.874-7.044-75.292-26.648-106.693-17.751-28.433-48.497-48.778-81.818-52.418S40.397 293.68 19.616 319.98s-25.87 64.535-11.315 94.73c10.722 22.242 30.476 38.796 51.172 52.263 66.03 42.966 147.94 60.885 225.878 49.415",fill:"#f2f2f2"}),i=a.createElement("path",{d:"M52.567 294.442a540.355 540.355 0 0175.304 74.777 548.076 548.076 0 0159.386 87.89 545.835 545.835 0 0125.43 53.847c1.527 3.742-4.55 5.371-6.06 1.67a536.36 536.36 0 00-49.01-92.727 539.734 539.734 0 00-65.728-81.198 538.44 538.44 0 00-43.766-39.815c-3.138-2.555 1.332-6.978 4.444-4.444z",fill:"#fff"}),s=a.createElement("path",{d:"M624.5 519h-365V144.5C259.5 64.822 324.322 0 404 0h76c79.678 0 144.5 64.822 144.5 144.5z",fill:"#f2f2f2"}),m=a.createElement("path",{d:"M548.5 519h-289V144.5a143.382 143.382 0 0127.596-84.944c.663-.905 1.326-1.798 2.008-2.681a144.466 144.466 0 0130.755-29.851c.66-.48 1.322-.952 1.994-1.423a144.16 144.16 0 0131.472-16.46c.66-.25 1.334-.5 2.007-.742a144.02 144.02 0 0131.108-7.336c.658-.09 1.333-.16 2.008-.23a146.288 146.288 0 0131.106 0c.673.07 1.348.14 2.014.231a143.995 143.995 0 0131.1 7.335c.673.241 1.346.492 2.009.743a143.8 143.8 0 0131.106 16.216c.672.461 1.344.933 2.007 1.405a145.987 145.987 0 0118.383 15.564 144.305 144.305 0 0112.725 14.55c.68.88 1.342 1.774 2.005 2.677A143.382 143.382 0 01548.5 144.5z",fill:"#ccc"}),u=a.createElement("circle",{cx:525,cy:335.5,r:16,fill:"#3d9970"}),f=a.createElement("path",{fill:"#ffb8b8",d:"M594.599 507.783h-12.26l-5.833-47.288 18.095.001-.002 47.287z"}),d=a.createElement("path",{d:"M573.582 504.28h23.643v14.887h-38.53a14.887 14.887 0 0114.887-14.887z",fill:"#2f2e41"}),h=a.createElement("path",{fill:"#ffb8b8",d:"M655.599 507.783h-12.26l-5.833-47.288 18.095.001-.002 47.287z"}),p=a.createElement("path",{d:"M634.582 504.28h23.643v14.887h-38.53a14.887 14.887 0 0114.887-14.887z",fill:"#2f2e41"}),b=a.createElement("path",{d:"M533.098 338.67a10.743 10.743 0 014.51-15.843l41.676-114.867 20.507 11.191-47.585 109.771a10.8 10.8 0 01-19.108 9.748zM649.336 360.254a10.743 10.743 0 01-2.893-16.217l-12.91-121.51 23.337 1.067 5.366 119.52a10.8 10.8 0 01-12.9 17.14z",fill:"#ffb8b8"}),g=a.createElement("circle",{cx:612.106,cy:162.123,r:24.561,fill:"#ffb8b8"}),y=a.createElement("path",{d:"M649.18 332.619h-74.047l.089-.577c.133-.86 13.197-86.439 3.562-114.436a11.813 11.813 0 016.069-14.583c13.772-6.485 40.208-14.471 62.52 4.91a28.234 28.234 0 019.46 23.395z",fill:"#3d9970"}),E=a.createElement("path",{d:"M589.354 258.25l-33.336-6.763 15.626-37.03a13.997 13.997 0 0127.106 6.998zM632.05 270.808l-2.004-45.941c-1.52-8.637 3.424-16.8 11.028-18.135 7.605-1.33 15.031 4.66 16.558 13.36l7.533 42.928z",fill:"#3d9970"}),j=a.createElement("path",{d:"M646.716 327.119c11.915 45.376 13.214 103.069 10 166l-16-2-29-120-16 122-18-1c-5.377-66.03-10.613-122.716-2-160zM628.29 181.104c-4.583 4.88-13.092 2.26-13.69-4.407a8.055 8.055 0 01.01-1.556c.31-2.953 2.015-5.635 1.607-8.753a4.59 4.59 0 00-.84-2.15c-3.652-4.889-12.223 2.187-15.669-2.239-2.113-2.714.371-6.987-1.25-10.02-2.14-4.004-8.479-2.029-12.454-4.221-4.423-2.44-4.158-9.226-1.247-13.353 3.55-5.034 9.776-7.72 15.923-8.107s12.253 1.275 17.993 3.512c6.52 2.541 12.987 6.053 17 11.787 4.88 6.974 5.35 16.348 2.91 24.502-1.485 4.96-6.552 11.02-10.294 15.005z",fill:"#2f2e41"}),v=a.createElement("path",{d:"M839.982 519.643H101.688a1.19 1.19 0 010-2.38h738.294a1.19 1.19 0 010 2.38z",fill:"#3f3d56"}),w=a.createElement("path",{d:"M469 410.5H339a6.465 6.465 0 01-6.5-6.415v-290.17a6.465 6.465 0 016.5-6.415h130a6.465 6.465 0 016.5 6.415v290.17a6.465 6.465 0 01-6.5 6.415z",fill:"#fff"}),O=a.createElement("path",{fill:"#ccc",d:"M332.5 201.39h143v2h-143zM333 315.5h143v2H333z"}),M=a.createElement("path",{fill:"#ccc",d:"M377.5 107.5h2v304h-2zM427.5 107.5h2v304h-2z"});t.default=function(e){return a.createElement("svg",n({"data-name":"Layer 1",viewBox:"0 0 870 520.139"},e),o,l,c,i,s,m,u,f,d,h,p,b,g,y,E,j,v,w,O,M)}},"./src/components/auth/Login.js":
/*!**************************************!*\
  !*** ./src/components/auth/Login.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var a=r(/*! react */"./node_modules/react/index.js"),n=r.n(a),o=r(/*! recoil */"./node_modules/recoil/es/recoil.js"),l=r(/*! ../../atoms */"./src/atoms.js"),c=r(/*! ../SVG/Login.svg */"./src/components/SVG/Login.svg"),i=r(/*! @apollo/client */"./node_modules/@apollo/client/index.js"),s=r(/*! formik */"./node_modules/formik/dist/formik.esm.js"),m=r(/*! @material-ui/core */"./node_modules/@material-ui/core/esm/index.js"),u=r(/*! yup */"./node_modules/yup/es/index.js"),f=r(/*! ../../Queries */"./src/Queries.js"),d=r(/*! js-cookie */"./node_modules/js-cookie/src/js.cookie.js"),h=r.n(d);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],a=!0,n=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=Object(m.makeStyles)((function(e){return{form:E({marginTop:e.spacing(2),width:"80%",margin:"auto"},e.breakpoints.up("sm"),{width:"90%"}),formField:{padding:"0.2em"},formControl:{margin:"0.1em",padding:"0.1em"},formLabel:{margin:"auto",width:"auto",fontSize:"2.5em"},submit:{margin:e.spacing(3,0,2)}}}));t.default=function(){var e=Object(o.useSetRecoilState)(l.authAtom),t=Object(o.useSetRecoilState)(l.alertAtom),r=Object(o.useResetRecoilState)(l.alertAtom),d=j(),p=g(Object(i.useMutation)(f.LOGIN_USER),1)[0];return Object(a.useEffect)((function(){r()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(s.Formik,{initialValues:{username:"",password:""},validationSchema:u.object({username:u.string().max(30,"Must be 30 characters or less").required("Required"),password:u.string().min(8,"Must be 8 characters or more").required("Required")}),onSubmit:function(a,n){var o,l,c=n.setSubmitting;c(!0),o=a.username,l=a.password,p({variables:{username:o,password:l}}).catch((function(e){return t({message:e.message,type:"warning"})})).then((function(t){t&&null!==t.data.tokenAuth&&(r(),h.a.set("token",t.data.tokenAuth.token),h.a.set("USER-ID",t.data.tokenAuth.user.id),h.a.set("refresh-token",t.data.tokenAuth.refreshToken),e((function(e){return b(b({},e),{},{token:t.data.tokenAuth.token,user:t.data.tokenAuth.user.id,refreshToken:t.data.tokenAuth.refreshToken,isAuthenticated:!0})})))})),c(!1)}},(function(e){var t=e.isSubmitting,r=e.isValid,a=e.dirty;return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.Form,{className:d.form},n.a.createElement(c.default,{className:"w-50 h-50 mx-auto d-block"}),n.a.createElement("p",{className:d.formLabel},"Login"),n.a.createElement(m.FormControl,{className:d.formControl,fullWidth:!0},n.a.createElement(s.Field,{type:"text",name:"username",as:m.TextField,label:"Username",className:d.formField,fullWidth:!0}),n.a.createElement(s.ErrorMessage,{name:"username",component:m.FormHelperText,error:!0})),n.a.createElement(m.FormControl,{className:d.formControl,fullWidth:!0},n.a.createElement(s.Field,{type:"password",label:"Password",name:"password",as:m.TextField,fullWidth:!0,className:d.formField}),n.a.createElement(s.ErrorMessage,{name:"password",component:m.FormHelperText,error:!0,htmlFor:"password"})),n.a.createElement(m.FormControl,{className:d.formControl,fullWidth:!0},n.a.createElement("button",{type:"submit",className:"btn btn-teal",disabled:t||!(r&&a)},"Login"))))})))}}}]);
//# sourceMappingURL=21.main.js.map