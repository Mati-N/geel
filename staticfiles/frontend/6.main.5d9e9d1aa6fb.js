(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./node_modules/react-error-boundary/dist/react-error-boundary.umd.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-error-boundary/dist/react-error-boundary.umd.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,r,t){!function(e,r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var t={error:null,info:null},n=function(e){var n,o;function a(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).state=t,r.resetErrorBoundary=function(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];null==r.props.onReset||(e=r.props).onReset.apply(e,o),r.setState(t)},r}o=e,(n=a).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=a.prototype;return s.componentDidCatch=function(e,r){var t,n;null==(t=(n=this.props).onError)||t.call(n,e,null==r?void 0:r.componentStack),this.setState({error:e,info:r})},s.componentDidUpdate=function(e){var r,n,o,a,s=this.state.error,i=this.props.resetKeys;null!==s&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(a=i)&&(a=[]),o.length!==a.length||o.some((function(e,r){return!Object.is(e,a[r])})))&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,i),this.setState(t))},s.render=function(){var e=this.state,t=e.error,n=e.info,o=this.props,a=o.fallbackRender,s=o.FallbackComponent,i=o.fallback;if(null!==t){var c={componentStack:null==n?void 0:n.componentStack,error:t,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof a)return a(c);if(s)return r.createElement(s,c);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},a}(r.Component);e.ErrorBoundary=n,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],o=t[1];if(e)throw e;if(n)throw n;return o},e.withErrorBoundary=function(e,t){function o(o){return r.createElement(n,t,r.createElement(e,o))}var a=e.displayName||e.name||"Unknown";return o.displayName="withErrorBoundary("+a+")",o},Object.defineProperty(e,"__esModule",{value:!0})}(r,t(/*! react */"./node_modules/react/index.js"))},"./src/components/layout/Error.js":
/*!****************************************!*\
  !*** ./src/components/layout/Error.js ***!
  \****************************************/
/*! exports provided: default */function(e,r,t){"use strict";t.r(r);var n=t(/*! react */"./node_modules/react/index.js"),o=t.n(n);r.default=function(e){e.error;var r=e.componentStack,t=e.resetErrorBoundary;return o.a.createElement("div",{role:"alert"},o.a.createElement("p",null,"Something went wrong:"),o.a.createElement("pre",null,r),o.a.createElement("button",{className:"btn-teal btn",onClick:t},"Try again"))}},"./src/components/post/Post.js":
/*!*************************************!*\
  !*** ./src/components/post/Post.js ***!
  \*************************************/
/*! exports provided: default */function(e,r,t){"use strict";t.r(r);var n=t(/*! react */"./node_modules/react/index.js"),o=t.n(n),a=t(/*! react-waypoint */"./node_modules/react-waypoint/es/index.js"),s=t(/*! @apollo/client */"./node_modules/@apollo/client/index.js"),i=t(/*! ../../Queries */"./src/Queries.js"),c=t(/*! react-spinners-kit */"./node_modules/react-spinners-kit/lib/index.js"),u=t(/*! react-error-boundary */"./node_modules/react-error-boundary/dist/react-error-boundary.umd.js"),l=t(/*! ../layout/Error */"./src/components/layout/Error.js");function p(){return(p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(t.push(s.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return t}(e,r)||h(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){if(e){if("string"==typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,r):void 0}}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var j=Object(n.lazy)((function(){return t.e(/*! import() */3).then(t.bind(null,/*! ./PostItem */"./src/components/post/PostItem.js"))})),g=Object(n.lazy)((function(){return t.e(/*! import() */7).then(t.bind(null,/*! ./Comments */"./src/components/post/Comments.js"))}));r.default=function(e){var r=e.match.params.id,t=Object(s.useQuery)(i.GET_POST,{variables:{id:r}}),m=t.loading,y=t.data,h=(t.error,t.fetchMore),v=(t.refetch,b(Object(n.useState)(!0),2)),E=v[0],O=v[1];if(m&&!y)return o.a.createElement(c.ImpulseSpinner,{size:40});var w=y.posts.edges[0].node;return o.a.createElement(u.ErrorBoundary,{FallbackComponent:l.default},o.a.createElement(o.a.Fragment,null,o.a.createElement(j,p({key:w.id,user_id:w.user.id,username:w.user.username,show_comment:!0},w)),o.a.createElement(g,{comments:y.postComments.edges}),o.a.createElement(a.Waypoint,{onEnter:function(){h({query:i.GET_POST,variables:{cursor:y.postComments.pageInfo.endCursor,id:r},updateQuery:function(e,r){var t=r.fetchMoreResult;if(O(!0),!e.postComments.pageInfo.hasNextPage)return O(!1),e;var n=t.postComments.edges,o=t.postComments.pageInfo;return n.length?{post:f(f({},e.post),{},{postComments:{__typename:e.postComments.__typename,edges:[].concat(d(e.postComments.edges),d(n)),pageInfo:o}})}:e}}),O(!1)}},o.a.createElement("div",{className:"spinner"},(m||E)&&o.a.createElement(c.ImpulseSpinner,{size:40})))))}}}]);
//# sourceMappingURL=6.main.js.map