{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Queries.js","webpack:///./src/components/App.js","webpack:///./src/components/Routing/AuthenticationRoute.js","webpack:///./src/components/Routing/PrivateRoute.js","webpack:///./src/components/Routing/Routes.js","webpack:///./src/components/layout/Alert.js","webpack:///./src/components/layout/Navbar.js","webpack:///./src/components/post/Post.js","webpack:///./src/components/post/PostItem.js","webpack:///./src/context/alert/AlertContext.js","webpack:///./src/context/alert/AlertReducer.js","webpack:///./src/context/alert/AlertState.js","webpack:///./src/context/auth/AuthContext.js","webpack:///./src/context/auth/AuthReducer.js","webpack:///./src/context/auth/AuthState.js","webpack:///./src/context/types.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","ADD_USER","gql","LOGIN_USER","GET_POSTS","GET_POST","LIKED","VERIFY_TOKEN","LOGOUT_USER","LIKE","CREATE_POST","REFRESH_TOKEN","REVOKE_TOKEN","SELF_USER","SELF_POSTS","GET_USER","USER_POSTS","FOLLOW","client","ApolloClient","uri","cache","InMemoryCache","connectToDevTools","credentials","headers","Cookies","App","className","id","style","opacity","href","AuthenticationRoute","Component","component","rest","auth","useContext","AuthContext","isAuthenticated","loading","render","props","size","to","PrivateRoute","Home","lazy","Account","NewPost","Login","Register","NotFound","User","Routes","loggedIn","location","useLocation","transitions","useTransition","pathname","from","transform","enter","leave","config","stiff","useEffect","map","item","div","fallback","margin","exact","path","Post","Alert","alert_info","AlertContext","animation","useSpring","alert_type","xmlns","width","height","viewBox","strokeWidth","stroke","fill","strokeLinecap","strokeLinejoin","cx","cy","x1","y1","x2","y2","display","msg","Navbar","navItems","useRef","useState","displayed","state","setState","showMenu","hide","position","top","onClick","rx","y","ref","scrollTo","behavior","points","match","params","useQuery","variables","fetchMore","refetch","log","Liked","Heart","Comments","PostItem","text","title","username","likes","creation","user_id","initialState","done","hasMore","comments","useLazyQuery","post_id","onCompleted","liked","hovered","setHovered","self","useMutation","likePost","expandText","maxHeight","expand","current","scrollHeight","duration","clientHeight","date","seconds","Math","floor","Date","interval","flr","timeSince","pre","then","post","likers","onMouseOver","onMouseOut","createContext","action","SET_ALERT","payload","REMOVE_ALERT","AlertState","useReducer","AlertReducer","dispatch","Provider","removeAlert","setAlert","children","LOGIN","LOGOUT","localStorage","removeItem","logout","SET_LOADING","AuthState","token","getItem","refreshToken","user","AuthReducer","addUser","login","revoke","verify","refresh","verifyToken","setItem","password","tokenAuth","createUser","ok","Logout","ReactDOM","StrictMode","querySelector"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + chunkId + \".main.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/frontend/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/index.js\",\"vendors~main\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import {\r\n  gql\r\n} from \"@apollo/client\";\r\n\r\nexport const ADD_USER = gql `\r\n  mutation createUser($username: String!, $password: String!) {\r\n    createUser(input: { username: $username, password: $password }) {\r\n      ok\r\n      message\r\n      user {\r\n        username\r\n        id\r\n        password\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LOGIN_USER = gql `\r\n  mutation tokenAuth($username: String!, $password: String!) {\r\n    tokenAuth(input: { username: $username, password: $password }) {\r\n      payload\r\n      token\r\n      refreshToken\r\n      user {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const GET_POSTS = gql `\r\n  query posts($cursor: String) {\r\n    posts(first: 45, after: $cursor, orderBy: \"creation\") {\r\n      pageInfo {\r\n        endCursor\r\n        hasNextPage\r\n      }\r\n      edges {\r\n        node {\r\n          id\r\n          title\r\n          text\r\n          likers {\r\n            id\r\n          }\r\n          commentSet {\r\n            edges {\r\n              node {\r\n                id\r\n              }\r\n            }\r\n          }\r\n          creation\r\n          commentCount\r\n          user {\r\n            username\r\n            id\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_POST = gql `\r\n  query post($id: ID!, $cursor: String) {\r\n    posts(id: $id) {\r\n      edges {\r\n        node {\r\n          id\r\n          title\r\n          text\r\n          likers {\r\n            id\r\n          }\r\n          commentSet {\r\n            edges {\r\n              node {\r\n                id\r\n              }\r\n            }\r\n          }\r\n          creation\r\n          commentCount\r\n          user {\r\n            username\r\n            id\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    postComments(id: $id, after: $cursor) {\r\n      edges {\r\n        node {\r\n          id\r\n          user {\r\n            username\r\n            id\r\n          }\r\n          content\r\n        }\r\n      }\r\n      pageInfo {\r\n        endCursor\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const LIKED = gql `\r\n  query liked($post_id: ID!) {\r\n    liked(id: $post_id)\r\n  }\r\n`;\r\n\r\nexport const VERIFY_TOKEN = gql `\r\n  mutation verifyToken($token: String!) {\r\n    verifyToken(input: { token: $token }) {\r\n      payload\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LOGOUT_USER = gql `\r\n  mutation {\r\n    deleteTokenCookie(input: {}) {\r\n      deleted\r\n    }\r\n  }\r\n`;\r\n\r\nexport const LIKE = gql `\r\n  mutation like($post_id: ID!) {\r\n    likePost(postId: $post_id) {\r\n      ok\r\n      post {\r\n        likers {\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CREATE_POST = gql `\r\n  mutation createPost($text: String!, $title: String!) {\r\n    createPost(input: { text: $text, title: $title }) {\r\n      ok\r\n      post {\r\n        id\r\n        title\r\n        text\r\n        likers {\r\n          id\r\n        }\r\n        commentSet {\r\n          edges {\r\n            node {\r\n              id\r\n            }\r\n          }\r\n        }\r\n        creation\r\n        commentCount\r\n        user {\r\n          username\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REFRESH_TOKEN = gql `\r\n  mutation refreshToken($token: String!) {\r\n    refreshToken(input: { refreshToken: $token }) {\r\n      token\r\n      refreshToken\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REVOKE_TOKEN = gql `\r\n  mutation revokeToken($token: String!) {\r\n    revokeToken(input: { refreshToken: $token }) {\r\n      revoked\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SELF_USER = gql `\r\n  query self_user {\r\n    user {\r\n      id\r\n      username\r\n      posts {\r\n        edges {\r\n          node {\r\n            id\r\n          }\r\n        }\r\n      }\r\n      followers {\r\n        edges {\r\n          node {\r\n            id\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SELF_POSTS = gql `\r\n  query self_posts($cursor: String) {\r\n    post(first: 20, orderBy: \"creation\", after: $cursor) {\r\n      edges {\r\n        node {\r\n          id\r\n          likers {\r\n            id\r\n          }\r\n          commentSet {\r\n            edges {\r\n              node {\r\n                id\r\n              }\r\n            }\r\n          }\r\n          text\r\n          title\r\n          creation\r\n        }\r\n      }\r\n      pageInfo {\r\n        hasNextPage\r\n        endCursor\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER = gql `\r\n  query get_user($id: ID!) {\r\n    userGet(id: $id) {\r\n      username\r\n      posts {\r\n        edges {\r\n          node {\r\n            id\r\n          }\r\n        }\r\n      }\r\n      followers {\r\n        edges {\r\n          node {\r\n            id\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    isFollowing(id: $id)\r\n  }\r\n`;\r\n\r\nexport const USER_POSTS = gql `\r\n  query user_posts($cursor: String, $id: ID!) {\r\n    userPost(first: 10, orderBy: \"creation\", after: $cursor, id: $id) {\r\n      edges {\r\n        node {\r\n          id\r\n          likers {\r\n            id\r\n          }\r\n          commentSet {\r\n            edges {\r\n              node {\r\n                id\r\n              }\r\n            }\r\n          }\r\n          text\r\n          title\r\n          creation\r\n        }\r\n      }\r\n      pageInfo {\r\n        hasNextPage\r\n        endCursor\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const FOLLOW = gql `\r\n  mutation followUser($id: ID!) {\r\n    followUser(id: $id) {\r\n      ok\r\n      user {\r\n        id\r\n        followers {\r\n          edges {\r\n            node {\r\n              id\r\n            }\r\n          }\r\n        }\r\n      }\r\n      message\r\n    }\r\n  }\r\n`;","import React from \"react\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nimport Routes from \"./Routing/Routes\";\r\nimport Navbar from \"./layout/Navbar\";\r\nimport Alert from \"./layout/Alert\";\r\nimport AuthState from \"../context/auth/AuthState\";\r\nimport AlertState from \"../context/alert/AlertState\";\r\nimport { ApolloProvider, ApolloClient, InMemoryCache } from \"@apollo/client\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst client = new ApolloClient({\r\n  uri: \"/api/\",\r\n  cache: new InMemoryCache(),\r\n  connectToDevTools: true,\r\n  credentials: \"same-origin\",\r\n  headers: {\r\n    \"X-CSRFToken\": Cookies.get(\"csrftoken\"),\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <AlertState>\r\n        <AuthState>\r\n          <Router>\r\n            <Navbar />\r\n\r\n            <main className=\"app\" id=\"main\">\r\n              <Alert />\r\n              <Routes />\r\n            </main>\r\n            <footer>\r\n              <a\r\n                style={{\r\n                  opacity: 0,\r\n                }}\r\n                className=\"skip-link\"\r\n                href=\"#main\"\r\n              >\r\n                Skip to main\r\n              </a>\r\n            </footer>\r\n          </Router>\r\n        </AuthState>\r\n      </AlertState>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport { ImpulseSpinner as Spinner } from \"react-spinners-kit\";\r\n\r\nconst AuthenticationRoute = ({ component: Component, auth, ...rest }) => {\r\n  const { isAuthenticated, loading } = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (loading || isAuthenticated == null)\r\n          return (\r\n            <div className=\"spinner\">\r\n              <Spinner size={60} style={{}} />\r\n            </div>\r\n          );\r\n        else if (isAuthenticated) {\r\n          return <Redirect to=\"/\" />;\r\n        } else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AuthenticationRoute;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport { ImpulseSpinner as Spinner } from \"react-spinners-kit\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => {\r\n  const { isAuthenticated, loading } = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (loading || isAuthenticated == null)\r\n          return (\r\n            <div className=\"spinner\">\r\n              <Spinner size={68} />\r\n            </div>\r\n          );\r\n        else if (!isAuthenticated) {\r\n          return <Redirect to=\"/login\" />;\r\n        } else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React, { useContext, useEffect, lazy, Suspense } from \"react\";\r\nimport { Switch, useLocation, Route } from \"react-router-dom\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport AuthenticationRoute from \"./AuthenticationRoute\";\r\nimport { useTransition, animated, config } from \"react-spring\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport { ImpulseSpinner as Spinner } from \"react-spinners-kit\";\r\n\r\nimport Post from \"../post/Post\";\r\nconst Home = lazy(() => import(\"../pages/Home\"));\r\nconst Account = lazy(() => import(\"../pages/Account\"));\r\nconst NewPost = lazy(() => import(\"../pages/NewPost\"));\r\nconst Login = lazy(() => import(\"../auth/Login\"));\r\nconst Register = lazy(() => import(\"../auth/Register\"));\r\nconst NotFound = lazy(() => import(\"../pages/NotFound\"));\r\nconst User = lazy(() => import(\"../pages/User\"));\r\n\r\nconst Routes = ({ client }) => {\r\n  const { loggedIn } = useContext(AuthContext);\r\n  const location = useLocation();\r\n  const transitions = useTransition(location, (location) => location.pathname, {\r\n    from: {\r\n      opacity: 0,\r\n      transform: \"scale(0.6) translateX(-100%)\",\r\n    },\r\n    enter: {\r\n      opacity: 1,\r\n      transform: \"scale(1) translateX(0%)\",\r\n    },\r\n    leave: {\r\n      opacity: 0,\r\n      transform: \"scale(0.6) translateX(70%)\",\r\n    },\r\n    config: config.stiff,\r\n  });\r\n\r\n  useEffect(() => {\r\n    loggedIn();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {transitions.map(({ item, props, key }) => (\r\n        <animated.div key={`${key}anim`} style={props} className=\"container\">\r\n          <Suspense\r\n            fallback={\r\n              <div className=\"main\">\r\n                <div className=\"spinner\">\r\n                  <Spinner\r\n                    size={50}\r\n                    style={{\r\n                      margin: \"auto\",\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            }\r\n          >\r\n            <Switch location={item}>\r\n              <AuthenticationRoute exact path=\"/login\" component={Login} />\r\n              <AuthenticationRoute\r\n                exact\r\n                path=\"/register\"\r\n                component={Register}\r\n              />\r\n\r\n              <PrivateRoute exact path=\"/\" component={Home} />\r\n              <PrivateRoute exact path=\"/add-post\" component={NewPost} />\r\n              <PrivateRoute exact path=\"/account\" component={Account} />\r\n              <PrivateRoute exact path=\"/user/:id\" component={User} />\r\n              <PrivateRoute exact path=\"/post/:id\" component={Post} />\r\n              <Route component={NotFound} />\r\n            </Switch>\r\n          </Suspense>\r\n        </animated.div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useContext } from \"react\";\r\nimport AlertContext from \"../../context/alert/AlertContext\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nconst Alert = () => {\r\n  const { alert_info } = useContext(AlertContext);\r\n  const animation = useSpring({\r\n    from: { opacity: 0, transform: \"scale(0)\" },\r\n    to: { opacity: 1, transform: \"scale(1)\" },\r\n  });\r\n\r\n  if (alert_info != null) {\r\n    return (\r\n      <>\r\n        <animated.div\r\n          style={animation}\r\n          className={`app-alert alert-${alert_info.alert_type}`}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"icon icon-tabler icon-tabler-alert-circle\"\r\n            width=\"44\"\r\n            height=\"44\"\r\n            viewBox=\"0 0 24 24\"\r\n            strokeWidth=\"1.5\"\r\n            stroke=\"#607D8B\"\r\n            fill=\"none\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          >\r\n            <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n            <circle cx=\"12\" cy=\"12\" r=\"9\" />\r\n            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\r\n            <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\r\n          </svg>\r\n          <h1 style={{ display: \"inline\" }}>{alert_info.msg}</h1>\r\n        </animated.div>\r\n      </>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Alert;\r\n","import React, { useContext, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\n\r\nfunction Navbar() {\r\n  const { isAuthenticated, loading } = useContext(AuthContext);\r\n  const navItems = useRef(null);\r\n  const [state, setState] = useState({ displayed: false });\r\n\r\n  if (loading || isAuthenticated == null) return \"\";\r\n\r\n  const showMenu = () => {\r\n    setState({ displayed: !state.displayed });\r\n  };\r\n\r\n  const hide = () => {\r\n    if (state.displayed) {\r\n      showMenu();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav\r\n      className=\"nav\"\r\n      style={{\r\n        position: \"fixed\",\r\n        top: 0,\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <div className=\"nav-top\">\r\n        <Link to=\"/\" className=\"navbar-brand\">\r\n          UNNAMED\r\n        </Link>\r\n        <svg\r\n          viewBox=\"0 0 100 80\"\r\n          width=\"40\"\r\n          height=\"40\"\r\n          className=\"fa fa-bars\"\r\n          id={state.displayed ? \"fa\" : \"\"}\r\n          onClick={showMenu}\r\n        >\r\n          <rect\r\n            className=\"line0\"\r\n            fill=\"white\"\r\n            width=\"100\"\r\n            height=\"17\"\r\n            id={state.displayed ? \"line0\" : \" \"}\r\n            rx=\"0.25em\"\r\n          ></rect>\r\n          <rect\r\n            className=\"line1\"\r\n            fill=\"white\"\r\n            y=\"30\"\r\n            width=\"100\"\r\n            height=\"17\"\r\n            id={state.displayed ? \"line1\" : \" \"}\r\n            rx=\"0.25em\"\r\n          ></rect>\r\n          <rect\r\n            className=\"line2\"\r\n            fill=\"white\"\r\n            y=\"60\"\r\n            width=\"100\"\r\n            height=\"17\"\r\n            id={state.displayed ? \"line2\" : \" \"}\r\n            rx=\"0.25em\"\r\n          ></rect>\r\n        </svg>\r\n      </div>\r\n\r\n      <ul\r\n        className={\"navbar-items\"}\r\n        id={state.displayed ? \"navitems-block\" : \"navitems-none\"}\r\n        ref={navItems}\r\n      >\r\n        {!isAuthenticated && (\r\n          <li className=\"right\" id=\"right\">\r\n            <span className=\"navItem\">\r\n              <Link to=\"/login\" className=\"nav-link\" onClick={hide}>\r\n                Login\r\n              </Link>\r\n            </span>\r\n            <span className=\"navItem\">\r\n              <Link className=\"nav-link\" to=\"/register\" onClick={hide}>\r\n                Register\r\n              </Link>\r\n            </span>\r\n          </li>\r\n        )}\r\n        {isAuthenticated && (\r\n          <>\r\n            <li className=\"left\">\r\n              <span className=\"navItem\">\r\n                <Link className=\"nav-link\" to=\"/\" onClick={hide}>\r\n                  Home\r\n                </Link>\r\n              </span>\r\n              <span className=\"navItem\">\r\n                <Link className=\"nav-link\" to=\"/add-post\" onClick={hide}>\r\n                  New Post\r\n                </Link>\r\n              </span>\r\n            </li>\r\n            <li className=\"right\">\r\n              <span className=\"navItem\">\r\n                <button\r\n                  className=\"to-up\"\r\n                  onClick={() =>\r\n                    window.scrollTo({ top: 0, behavior: \"smooth\" })\r\n                  }\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"icon icon-tabler icon-tabler-chevron-up\"\r\n                    width=\"44\"\r\n                    height=\"44\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"1.5\"\r\n                    stroke=\"rgb(248, 248, 248)\"\r\n                    fill=\"none\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    onClick={hide}\r\n                  >\r\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n                    <polyline points=\"6 15 12 9 18 15\" />\r\n                  </svg>\r\n                </button>\r\n              </span>\r\n\r\n              <span className=\"navItem\">\r\n                <Link className=\"nav-link\" to=\"/account\" onClick={hide}>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"icon icon-tabler icon-tabler-settings\"\r\n                    width=\"45\"\r\n                    height=\"45\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"2\"\r\n                    stroke=\"rgb(248, 248, 248)\"\r\n                    fill=\"none\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n                    <path d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                    <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                  </svg>\r\n                </Link>\r\n              </span>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport PostItem from \"../post/PostItem\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { GET_POST } from \"../../Queries\";\r\nimport { ImpulseSpinner as Spinner } from \"react-spinners-kit\";\r\n\r\nconst Post = ({\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) => {\r\n  const { loading, data, error, fetchMore, refetch } = useQuery(GET_POST, {\r\n    variables: { id },\r\n  });\r\n  /*const [spin, setSpin] = useState(true);\r\n\r\n  const more = () => {\r\n    fetchMore({\r\n      query: GET_COMMENTS,\r\n      variables: { cursor: data.post.postComments.pageInfo.endCursor },\r\n      updateQuery: (previousResult, { fetchMoreResult }) => {\r\n        setSpin(true);\r\n        if (!previousResult.post.postComments.pageInfo.hasNextPage) {\r\n          setSpin(false);\r\n          return previousResult;\r\n        }\r\n        const newEdges = fetchMoreResult.post.postComments.edges;\r\n        const pageInfo = fetchMoreResult.post.postComments.pageInfo;\r\n\r\n        return newEdges.length\r\n          ? {\r\n              post: {\r\n                ...previousResult.post,\r\n                postComments: {\r\n                  __typename: previousResult.post.postComments.__typename,\r\n                  edges: [...previousResult.post.posts.edges, ...newEdges],\r\n                  pageInfo,\r\n                },\r\n              },\r\n            }\r\n          : previousResult;\r\n      },\r\n    });\r\n  };\r\n*/\r\n  if (loading && !data) {\r\n    return <Spinner size={40} />;\r\n  }\r\n\r\n  console.log(data);\r\n  //const post = edges[0].node;\r\n\r\n  return <Spinner size={40} />;\r\n  /*return (\r\n    <div className=\"main\">\r\n      <PostItem\r\n        key={post.id}\r\n        {...post}\r\n        likes={post.likers.length}\r\n        comments={post.commentSet.length}\r\n        user_id={post.user.id}\r\n        username={post.user.username}\r\n      />\r\n      {(loading || spin) && <Spinner />}\r\n    </div>\r\n  );*/\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect, useRef, lazy } from \"react\";\r\nimport { useLazyQuery, useMutation, from } from \"@apollo/client\";\r\nimport { LIKED, LIKE } from \"../../Queries\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nconst Liked = lazy(() => import(\"../SVG/Like.svg\"));\r\nconst Heart = lazy(() => import(\"../SVG/Heart.svg\"));\r\nconst Comments = lazy(() => import(\"../SVG/Comments.svg\"));\r\n\r\nconst PostItem = ({\r\n  text,\r\n  title,\r\n  username,\r\n  id,\r\n  likes,\r\n  creation,\r\n  user_id,\r\n  comments,\r\n}) => {\r\n  const initialState = {\r\n    done: false,\r\n    likes,\r\n    hasMore: false,\r\n    height: \"32vh\",\r\n    loading: false,\r\n    comments,\r\n  };\r\n  const [liked] = useLazyQuery(LIKED, {\r\n    variables: { post_id: id },\r\n    onCompleted: (data) => {\r\n      setState({ ...state, liked: data.liked });\r\n    },\r\n  });\r\n\r\n  const [hovered, setHovered] = useState(false);\r\n  const self = useRef(null);\r\n\r\n  const [likePost] = useMutation(LIKE);\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const expandText = useSpring({\r\n    to: {\r\n      maxHeight: state.expand ? `${self.current.scrollHeight}px` : \"230px\",\r\n      height: state.expand ? `${self.current.scrollHeight}px` : \"230px\",\r\n    },\r\n    from: {\r\n      maxHeight: !state.expand ? \"230px\" : `${self.current.scrollHeight}px`,\r\n      height: !state.expand ? \"230px\" : `${self.current.scrollHeight}px`,\r\n    },\r\n    duration: \"1s\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    liked();\r\n    setState({\r\n      ...state,\r\n      hasMore: self.current.scrollHeight > self.current.clientHeight,\r\n      loading: false,\r\n    });\r\n  }, []);\r\n\r\n  const timeSince = (date) => {\r\n    let seconds = Math.floor((new Date() - date) / 1000);\r\n\r\n    let interval = seconds / 31536000;\r\n    if (interval > 1) {\r\n      const flr = Math.floor(interval);\r\n      return Math.floor(interval) + (flr === 1 ? \" year\" : \" years\");\r\n    }\r\n\r\n    interval = seconds / 2592000;\r\n    if (interval > 1) {\r\n      const flr = Math.floor(interval);\r\n      return flr + (flr === 1 ? \" month\" : \" months\");\r\n    }\r\n\r\n    interval = seconds / 86400;\r\n    if (interval > 1) {\r\n      const flr = Math.floor(interval);\r\n      return Math.floor(flr) + (flr === 1 ? \" day\" : \" days\");\r\n    }\r\n\r\n    interval = seconds / 3600;\r\n    if (interval > 1) {\r\n      const flr = Math.floor(interval);\r\n      return flr + (flr === 1 ? \" hour\" : \" hours\");\r\n    }\r\n\r\n    interval = seconds / 60;\r\n    if (interval > 1) {\r\n      const flr = Math.floor(interval);\r\n      return flr + (flr == 1 ? \" minute\" : \" minutes\");\r\n    }\r\n    return \"Seconds\";\r\n  };\r\n\r\n  const like = () => {\r\n    likePost({ variables: { post_id: id } })\r\n      .catch((error) => console.log(error))\r\n      .then(({ data: { likePost } }) => {\r\n        setState({\r\n          ...state,\r\n          liked: !state.liked,\r\n          likes: likePost.post.likers.length,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"post card\">\r\n      <div className=\"post-top card-top\">\r\n        <div className=\"post-info-top\">\r\n          <Link to={`user/${user_id}`} className=\"post-user\">\r\n            {\" \"}\r\n            {username}{\" \"}\r\n          </Link>\r\n          <small className=\"post-time\">\r\n            {timeSince(new Date(creation))} ago{\" \"}\r\n          </small>\r\n        </div>\r\n        <h5 className=\"post-title\">{title}</h5>\r\n      </div>\r\n      <animated.pre\r\n        ref={self}\r\n        className={`post-text`}\r\n        style={state.hasMore ? expandText : {}}\r\n      >\r\n        {text}\r\n        {state.hasMore && (\r\n          <button\r\n            className=\"more\"\r\n            onClick={() => {\r\n              setState({ ...state, expand: !state.expand });\r\n            }}\r\n          >\r\n            {state.expand ? \"less\" : \"more\"}\r\n          </button>\r\n        )}\r\n      </animated.pre>\r\n      {!state.loading && (\r\n        <div className=\"info-bottom\">\r\n          <span\r\n            className=\"like\"\r\n            onClick={() => {\r\n              like();\r\n            }}\r\n            onMouseOver={() => setHovered(true)}\r\n            onMouseOut={() => setHovered(false)}\r\n          >\r\n            {!hovered ? (\r\n              state.liked ? (\r\n                <Liked className=\"like-icon\" />\r\n              ) : (\r\n                <Heart className=\"like-icon\" />\r\n              )\r\n            ) : !state.liked ? (\r\n              <Liked className=\"like-icon\" />\r\n            ) : (\r\n              <Heart className=\"like-icon\" />\r\n            )}\r\n            {state.likes > 0 && state.likes}\r\n          </span>\r\n          <span className=\"like\">\r\n            <Link to={`/post/${id}`} className=\"like-icon\">\r\n              <Comments />\r\n            </Link>\r\n            {state.comments > 0 && state.comments}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import { createContext } from \"react\";\r\n\r\nconst AlertContext = createContext();\r\n\r\nexport default AlertContext;\r\n","import { SET_ALERT, REMOVE_ALERT } from \"../types\";\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case SET_ALERT:\r\n      return {\r\n        alert_info: { ...action.payload },\r\n      };\r\n    case REMOVE_ALERT:\r\n      return {\r\n        alert_info: null,\r\n      };\r\n  }\r\n};\r\n","import React, { useReducer } from \"react\";\r\nimport AlertReducer from \"./AlertReducer\";\r\nimport AlertContext from \"./AlertContext\";\r\nimport { SET_ALERT, REMOVE_ALERT } from \"../types\";\r\n\r\nconst AlertState = (props) => {\r\n  const initialState = {\r\n    alert_info: null,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(AlertReducer, initialState);\r\n  const setAlert = (msg, alert_type) => {\r\n    dispatch({\r\n      type: SET_ALERT,\r\n      payload: { msg, alert_type },\r\n    });\r\n  };\r\n\r\n  const removeAlert = () => {\r\n    dispatch({ type: REMOVE_ALERT });\r\n  };\r\n\r\n  return (\r\n    <AlertContext.Provider\r\n      value={{\r\n        alert_info: state.alert_info,\r\n        removeAlert,\r\n        setAlert,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </AlertContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AlertState;\r\n","import { createContext } from \"react\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport default AuthContext;\r\n","import { LOGIN, LOGOUT, SET_LOADING } from \"../types\";\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n      };\r\n    case LOGOUT:\r\n      localStorage.removeItem(\"TOKEN\");\r\n      localStorage.removeItem(\"REFRESH_TOKEN\");\r\n      localStorage.removeItem(\"USER\");\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        logout: true,\r\n      };\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n  }\r\n};\r\n","import React, {\r\n  useReducer,\r\n  useEffect,\r\n  useContext\r\n} from \"react\";\r\nimport AuthContext from \"./AuthContext\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nimport {\r\n  LOGIN,\r\n  LOGOUT,\r\n  SET_LOADING\r\n} from \"../types\";\r\nimport {\r\n  useMutation,\r\n  useLazyQuery\r\n} from \"@apollo/client\";\r\nimport {\r\n  ADD_USER,\r\n  LOGIN_USER,\r\n  IS_LOGGED_IN,\r\n  LOGOUT_USER,\r\n  VERIFY_TOKEN,\r\n  REFRESH_TOKEN,\r\n  REVOKE_TOKEN,\r\n} from \"../../Queries\";\r\nimport AlertContext from \"../alert/AlertContext\";\r\n\r\nconst AuthState = (props) => {\r\n  const initialState = {\r\n    isAuthenticated: null,\r\n    loading: true,\r\n    logout: false,\r\n    token: localStorage.getItem(\"TOKEN\"),\r\n    refreshToken: localStorage.getItem(\"REFRESH_TOKEN\"),\r\n    user: localStorage.getItem(\"USER\"),\r\n  };\r\n\r\n  const {\r\n    setAlert,\r\n    removeAlert\r\n  } = useContext(AlertContext);\r\n  const [state, dispatch] = useReducer(AuthReducer, initialState);\r\n  const [addUser] = useMutation(ADD_USER);\r\n  const [login] = useMutation(LOGIN_USER);\r\n  const [logout] = useMutation(LOGOUT_USER);\r\n  const [revoke] = useMutation(REVOKE_TOKEN);\r\n  const [verify] = useMutation(VERIFY_TOKEN);\r\n  const [refresh] = useMutation(REFRESH_TOKEN);\r\n\r\n  const loggedIn = () => {\r\n    if (localStorage.getItem(\"TOKEN\") == null) {\r\n      dispatch({\r\n        type: LOGOUT\r\n      });\r\n      dispatch({\r\n        type: SET_LOADING\r\n      });\r\n      return;\r\n    }\r\n    try {\r\n      verify({\r\n        variables: {\r\n          token: state.token\r\n        }\r\n      }).then(({\r\n        data\r\n      }) => {\r\n        if (data.verifyToken != null) {\r\n          refresh({\r\n            variables: {\r\n              token: state.refreshToken\r\n            }\r\n          }).then((d) => {\r\n            if (d.data.refreshToken !== null) {\r\n              localStorage.setItem(\"TOKEN\", d.data.refreshToken.token);\r\n              localStorage.setItem(\r\n                \"REFRESH_TOKEN\",\r\n                d.data.refreshToken.refreshToken\r\n              );\r\n              dispatch({\r\n                type: LOGIN\r\n              });\r\n            } else {\r\n              dispatch({\r\n                type: LOGOUT\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          dispatch({\r\n            type: LOGOUT\r\n          });\r\n        }\r\n      });\r\n      dispatch({\r\n        type: SET_LOADING\r\n      });\r\n    } catch {\r\n      dispatch({\r\n        type: \"OFFLINE\"\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loggedIn();\r\n  }, []);\r\n\r\n  const Login = (username, password) => {\r\n    login({\r\n        variables: {\r\n          username: username,\r\n          password: password\r\n        },\r\n      })\r\n      .catch((error) => setAlert(error.message, \"danger\"))\r\n      .then((d) => {\r\n        if (d) {\r\n          if (d.data.tokenAuth !== null) {\r\n            localStorage.setItem(\"TOKEN\", d.data.tokenAuth.token);\r\n            localStorage.setItem(\"REFRESH_TOKEN\", d.data.tokenAuth.refreshToken);\r\n            localStorage.setItem(\"USER\", d.data.tokenAuth.user.id);\r\n            dispatch({\r\n              type: LOGIN,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  const Register = (username, password) => {\r\n    removeAlert();\r\n    addUser({\r\n        variables: {\r\n          username: username,\r\n          password: password\r\n        },\r\n      })\r\n      .catch((error) => `${error}`)\r\n      .then((d) => {\r\n        if (d.data.createUser.ok) {\r\n          Login(username, password);\r\n          return true;\r\n        } else {\r\n          setAlert(d.data.createUser.message, \"danger\");\r\n          return false;\r\n        }\r\n      });\r\n  };\r\n\r\n  const Logout = () => {\r\n    revoke({\r\n      variables: {\r\n        token: state.refreshToken\r\n      }\r\n    });\r\n    logout();\r\n    setAlert(\"Logged out!\", \"primary\");\r\n    dispatch({\r\n      type: LOGOUT,\r\n    });\r\n  };\r\n\r\n  return ( <\r\n    AuthContext.Provider value = {\r\n      {\r\n        isAuthenticated: state.isAuthenticated,\r\n        loading: state.loading,\r\n        Login,\r\n        Register,\r\n        Logout,\r\n        loggedIn,\r\n        user: state.user,\r\n      }\r\n    } > {\r\n      props.children\r\n    } <\r\n    /AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthState;","export const LOGIN = \"984rjefjiwe\";\r\nexport const LOGOUT = \"fiew8fjlj2jds\";\r\nexport const SET_LOADING = \"fk09990098fdsdf9a0s\";\r\nexport const SET_ALERT = \"jfdksi3wjenfdsfdsfasfsoiaow\";\r\nexport const REMOVE_ALERT = \"ffkjjo9eukvxoioiwjrlewjio\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}